# ğŸ”„ ìë™ ì„¤ë¬¸ â†’ PDF ìƒì„± ì‹œìŠ¤í…œ ì„¤ê³„ì„œ

> **ì‘ì„±ì¼:** 2026-01-29  
> **ëª©ì :** Free í”Œëœ í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„  
> **ë²•ì  ì¤€ìˆ˜:** ì˜ë£Œë²• ìœ„ë°˜ ë°©ì§€ ì² ì €

---

## ğŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#1-ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì„¤ë¬¸ ì„¤ê³„](#2-ì„¤ë¬¸-ì„¤ê³„)
3. [ê²°ê³¼ ë¶„ì„ ë¡œì§](#3-ê²°ê³¼-ë¶„ì„-ë¡œì§)
4. [PDF ìƒì„± ì‹œìŠ¤í…œ](#4-pdf-ìƒì„±-ì‹œìŠ¤í…œ)
5. [ì´ë©”ì¼ ë°œì†¡ í”Œë¡œìš°](#5-ì´ë©”ì¼-ë°œì†¡-í”Œë¡œìš°)
6. [êµ¬í˜„ ì½”ë“œ](#6-êµ¬í˜„-ì½”ë“œ)

---

## 1. ì‹œìŠ¤í…œ ê°œìš”

### 1.1 ì „ì²´ íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      1. ì‚¬ìš©ì ì„¤ë¬¸ ì‘ì„±                      â”‚
â”‚                  (15ê°œ ì§ˆë¬¸, ì†Œìš” ì‹œê°„: 3ë¶„)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    2. ê²°ê³¼ ìë™ ë¶„ì„ (AI)                    â”‚
â”‚           - ì²´í˜• ìœ í˜• íŒë‹¨ (8ê°€ì§€ íŒ¨í„´)                       â”‚
â”‚           - ì‹¬ê°ë„ í‰ê°€ (ê²½ë¯¸/ë³´í†µ/ì‹¬ê°)                      â”‚
â”‚           - ë§ì¶¤ ì½˜í…ì¸  ì„ íƒ                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     3. PDF ìë™ ìƒì„±                         â”‚
â”‚           - 5í˜ì´ì§€ ì „ë¬¸ ë¦¬í¬íŠ¸                               â”‚
â”‚           - ê°œì¸ ë§ì¶¤ ìš´ë™ ê°€ì´ë“œ 3ê°€ì§€                       â”‚
â”‚           - ì—…ê·¸ë ˆì´ë“œ ìœ ë„ CTA                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  4. ì´ë©”ì¼ ì¦‰ì‹œ ë°œì†¡                         â”‚
â”‚           - PDF ì²¨ë¶€ (3MB ì´í•˜)                              â”‚
â”‚           - ìš”ì•½ + ë‹¤ìŒ ë‹¨ê³„ ì•ˆë‚´                            â”‚
â”‚           - Basic í”Œëœ í”„ë¡œëª¨ì…˜                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ê¸°ìˆ  ìŠ¤íƒ

| ì»´í¬ë„ŒíŠ¸ | ê¸°ìˆ  | ìš©ë„ |
|----------|------|------|
| **ì„¤ë¬¸ UI** | React + TailwindCSS | ì¸í„°ë™í‹°ë¸Œ ì„¤ë¬¸ |
| **ë¶„ì„ ë¡œì§** | TypeScript | ê²°ê³¼ ê³„ì‚° |
| **PDF ìƒì„±** | @react-pdf/renderer | ì„œë²„ì‚¬ì´ë“œ PDF |
| **ì´ë©”ì¼** | SendGrid / AWS SES | ìë™ ë°œì†¡ |
| **ìŠ¤í† ë¦¬ì§€** | Supabase Storage | PDF ì„ì‹œ ì €ì¥ |

---

## 2. ì„¤ë¬¸ ì„¤ê³„

### 2.1 ì„¤ë¬¸ JSON êµ¬ì¡°

```typescript
// types/survey.ts

export interface SurveyQuestion {
  id: string;
  category: 'posture' | 'pain' | 'lifestyle' | 'goal';
  type: 'single' | 'multiple' | 'scale' | 'boolean';
  question: string;
  description?: string;
  options: SurveyOption[];
  required: boolean;
  scoring: QuestionScoring;
}

export interface SurveyOption {
  id: string;
  label: string;
  value: string | number;
  image?: string;  // ì„ íƒì  ì´ë¯¸ì§€
}

export interface QuestionScoring {
  dimension: 'forward_head' | 'rounded_shoulder' | 'anterior_pelvic_tilt' | 'posterior_pelvic_tilt';
  weight: number;  // ê°€ì¤‘ì¹˜ (0-1)
  mapping: Record<string, number>;  // ì„ íƒì§€ â†’ ì ìˆ˜
}

export interface SurveyResponse {
  userId: string;
  responses: Record<string, string | string[]>;
  completedAt: Date;
}

export interface AnalysisResult {
  postureType: string;
  severity: 'mild' | 'moderate' | 'severe';
  scores: {
    forwardHead: number;
    roundedShoulder: number;
    anteriorPelvicTilt: number;
    posteriorPelvicTilt: number;
  };
  primaryIssues: string[];
  recommendations: string[];
}
```

### 2.2 ì‹¤ì œ ì„¤ë¬¸ ë°ì´í„°

```typescript
// data/survey-questions.ts

export const SURVEY_QUESTIONS: SurveyQuestion[] = [
  // ========== ì¹´í…Œê³ ë¦¬ 1: ìì„¸ ê´€ì°° (5ë¬¸í•­) ==========
  {
    id: 'q1',
    category: 'posture',
    type: 'single',
    question: 'ê±°ìš¸ì„ ë³¼ ë•Œ, ê³ ê°œê°€ ì–´ëŠ ìª½ìœ¼ë¡œ ê¸°ìš¸ì–´ì ¸ ìˆë‚˜ìš”?',
    description: 'ì •ë©´ì—ì„œ ê´€ì°°í–ˆì„ ë•Œ',
    options: [
      { id: 'straight', label: 'ì •ë©´ì„ ë˜‘ë°”ë¡œ ë³´ê³  ìˆë‹¤', value: 0 },
      { id: 'slight', label: 'ì•½ê°„ ì•ìœ¼ë¡œ ë‚˜ì™€ ìˆë‹¤', value: 1 },
      { id: 'moderate', label: 'ëˆˆì— ë„ê²Œ ì•ìœ¼ë¡œ ë‚˜ì™€ ìˆë‹¤', value: 2 },
      { id: 'severe', label: 'ë§¤ìš° ì‹¬í•˜ê²Œ ì•ìœ¼ë¡œ ë‚˜ì™€ ìˆë‹¤', value: 3 }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 1.0,
      mapping: {
        'straight': 0,
        'slight': 33,
        'moderate': 66,
        'severe': 100
      }
    }
  },
  
  {
    id: 'q2',
    category: 'posture',
    type: 'single',
    question: 'ì˜†ì—ì„œ ë´¤ì„ ë•Œ, ì–´ê¹¨ì˜ ìœ„ì¹˜ëŠ” ì–´ë–¤ê°€ìš”?',
    description: 'ì¸¡ë©´ ì‚¬ì§„ì„ ì°ì–´ë³´ê±°ë‚˜ ê°€ì¡±ì—ê²Œ ë¬¼ì–´ë³´ì„¸ìš”',
    options: [
      { id: 'aligned', label: 'ê·€ì™€ ì¼ì§ì„ ìƒì— ìˆë‹¤', value: 0 },
      { id: 'slight', label: 'ì•½ê°„ ì•ìœ¼ë¡œ ë§ë ¤ìˆë‹¤', value: 1 },
      { id: 'moderate', label: 'ëˆˆì— ë„ê²Œ ë‘¥ê¸€ê²Œ ë§ë ¤ìˆë‹¤', value: 2 },
      { id: 'severe', label: 'ê°€ìŠ´ì´ ë§ì´ ì›€ì¸ ëŸ¬ë“¤ì–´ ìˆë‹¤', value: 3 }
    ],
    required: true,
    scoring: {
      dimension: 'rounded_shoulder',
      weight: 1.0,
      mapping: {
        'aligned': 0,
        'slight': 33,
        'moderate': 66,
        'severe': 100
      }
    }
  },
  
  {
    id: 'q3',
    category: 'posture',
    type: 'single',
    question: 'ì„œ ìˆì„ ë•Œ, í—ˆë¦¬(ê³¨ë°˜)ì˜ ê°ë„ëŠ” ì–´ë–¤ê°€ìš”?',
    description: 'ì¸¡ë©´ì—ì„œ ê´€ì°° - í—ˆë¦¬ê°€ ê³¼ë„í•˜ê²Œ êº¾ì˜€ê±°ë‚˜ ì¼ìì¸ì§€ í™•ì¸',
    options: [
      { id: 'neutral', label: 'ìì—°ìŠ¤ëŸ¬ìš´ Sì ê³¡ì„ ', value: 0 },
      { id: 'forward', label: 'í—ˆë¦¬ê°€ ë§ì´ êº¾ì—¬ì„œ ë°°ê°€ ë‚˜ì™€ ë³´ì„', value: 1 },
      { id: 'backward', label: 'í—ˆë¦¬ê°€ ì¼ìì— ê°€ê¹Œì›Œ ë³´ì„', value: 2 }
    ],
    required: true,
    scoring: {
      dimension: 'anterior_pelvic_tilt',
      weight: 0.7,
      mapping: {
        'neutral': 0,
        'forward': 80,
        'backward': 0
      }
    }
  },
  
  {
    id: 'q4',
    category: 'posture',
    type: 'multiple',
    question: 'ë‹¤ìŒ ì¤‘ ë³¸ì¸ì—ê²Œ í•´ë‹¹í•˜ëŠ” ê²ƒì„ ëª¨ë‘ ì„ íƒí•˜ì„¸ìš”',
    description: 'ì—¬ëŸ¬ ê°œ ì„ íƒ ê°€ëŠ¥',
    options: [
      { id: 'head_forward', label: 'ëª¨ë‹ˆí„°ë¥¼ ë³¼ ë•Œ ê³ ê°œë¥¼ ìì£¼ ë‚´ë¯¼ë‹¤', value: 'head_forward' },
      { id: 'shoulder_hunch', label: 'ì–´ê¹¨ê°€ ê·€ë³´ë‹¤ ì•ì— ìˆë‹¤', value: 'shoulder_hunch' },
      { id: 'chest_tight', label: 'ê°€ìŠ´ì„ í´ê¸°ê°€ ë¶ˆí¸í•˜ë‹¤', value: 'chest_tight' },
      { id: 'back_round', label: 'ë“±ì´ ë‘¥ê¸€ê²Œ ë§ë ¤ìˆë‹¤', value: 'back_round' },
      { id: 'hip_forward', label: 'ê³¨ë°˜ì´ ì•ìœ¼ë¡œ ê¸°ìš¸ì–´ì§„ ëŠë‚Œ', value: 'hip_forward' },
      { id: 'none', label: 'í•´ë‹¹ ì—†ìŒ', value: 'none' }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 0.5,
      mapping: {
        'head_forward': 20,
        'shoulder_hunch': 20,
        'chest_tight': 15,
        'back_round': 15,
        'hip_forward': 10,
        'none': 0
      }
    }
  },
  
  {
    id: 'q5',
    category: 'posture',
    type: 'scale',
    question: 'ì¥ì‹œê°„ ì•‰ì•„ìˆì„ ë•Œ, ìì„¸ê°€ ë¬´ë„ˆì§€ëŠ” ì†ë„ëŠ”?',
    description: '1ì‹œê°„ ê¸°ì¤€',
    options: [
      { id: '1', label: 'ê±°ì˜ ë¬´ë„ˆì§€ì§€ ì•ŠìŒ', value: 1 },
      { id: '2', label: '30ë¶„ í›„ ì•½ê°„ ë¬´ë„ˆì§', value: 2 },
      { id: '3', label: '15ë¶„ í›„ ë§ì´ ë¬´ë„ˆì§', value: 3 },
      { id: '4', label: 'ì²˜ìŒë¶€í„° ë°”ë¥¸ ìì„¸ê°€ í˜ë“¦', value: 4 }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 0.6,
      mapping: {
        '1': 0,
        '2': 30,
        '3': 60,
        '4': 90
      }
    }
  },
  
  // ========== ì¹´í…Œê³ ë¦¬ 2: ë¶ˆí¸í•¨/í†µì¦ (5ë¬¸í•­) ==========
  {
    id: 'q6',
    category: 'pain',
    type: 'multiple',
    question: 'í‰ì†Œ ë¶ˆí¸í•¨ì„ ëŠë¼ëŠ” ë¶€ìœ„ë¥¼ ëª¨ë‘ ì„ íƒí•˜ì„¸ìš”',
    description: 'í†µì¦ì´ ì•„ë‹Œ ë»ê·¼í•¨, ë»£ë»£í•¨ë„ í¬í•¨',
    options: [
      { id: 'neck', label: 'ëª©', value: 'neck' },
      { id: 'shoulder', label: 'ì–´ê¹¨', value: 'shoulder' },
      { id: 'upper_back', label: 'ë“± ìœ„ìª½', value: 'upper_back' },
      { id: 'lower_back', label: 'í—ˆë¦¬', value: 'lower_back' },
      { id: 'hip', label: 'ê³¨ë°˜/ì—‰ë©ì´', value: 'hip' },
      { id: 'none', label: 'ì—†ìŒ', value: 'none' }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 0.8,
      mapping: {
        'neck': 25,
        'shoulder': 20,
        'upper_back': 15,
        'lower_back': 10,
        'hip': 10,
        'none': 0
      }
    }
  },
  
  {
    id: 'q7',
    category: 'pain',
    type: 'scale',
    question: 'ëª©/ì–´ê¹¨ ë¶ˆí¸í•¨ì˜ ì •ë„ëŠ”?',
    description: '0 = ì „í˜€ ì—†ìŒ, 10 = ë§¤ìš° ì‹¬í•¨',
    options: [
      { id: '0-2', label: '0-2ì  (ê±°ì˜ ì—†ìŒ)', value: 1 },
      { id: '3-5', label: '3-5ì  (ê°€ë” ë¶ˆí¸)', value: 5 },
      { id: '6-8', label: '6-8ì  (ìì£¼ ë¶ˆí¸)', value: 7 },
      { id: '9-10', label: '9-10ì  (ë§¤ìš° ë¶ˆí¸)', value: 10 }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 0.9,
      mapping: {
        '0-2': 0,
        '3-5': 40,
        '6-8': 70,
        '9-10': 100
      }
    }
  },
  
  {
    id: 'q8',
    category: 'pain',
    type: 'single',
    question: 'ì•„ì¹¨ì— ì¼ì–´ë‚¬ì„ ë•Œ ëª©/ì–´ê¹¨ ìƒíƒœëŠ”?',
    options: [
      { id: 'fresh', label: 'ê°œìš´í•˜ê³  í¸ì•ˆí•˜ë‹¤', value: 0 },
      { id: 'stiff', label: 'ì•½ê°„ ë»£ë»£í•˜ë‹¤', value: 1 },
      { id: 'uncomfortable', label: 'ë§ì´ ë¶ˆí¸í•˜ë‹¤', value: 2 },
      { id: 'painful', label: 'ë§¤ìš° ë¶ˆí¸í•˜ê³  ì›€ì§ì´ê¸° í˜ë“¤ë‹¤', value: 3 }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 0.7,
      mapping: {
        'fresh': 0,
        'stiff': 30,
        'uncomfortable': 60,
        'painful': 90
      }
    }
  },
  
  {
    id: 'q9',
    category: 'pain',
    type: 'boolean',
    question: 'ì¥ì‹œê°„ ì•‰ì•„ìˆê±°ë‚˜ ì„œìˆìœ¼ë©´ í—ˆë¦¬ê°€ ë¶ˆí¸í•œê°€ìš”?',
    options: [
      { id: 'yes', label: 'ì˜ˆ', value: 1 },
      { id: 'no', label: 'ì•„ë‹ˆì˜¤', value: 0 }
    ],
    required: true,
    scoring: {
      dimension: 'anterior_pelvic_tilt',
      weight: 0.6,
      mapping: {
        'yes': 50,
        'no': 0
      }
    }
  },
  
  {
    id: 'q10',
    category: 'pain',
    type: 'single',
    question: 'ë‘í†µì´ë‚˜ ëˆˆì˜ í”¼ë¡œë¥¼ ì–¼ë§ˆë‚˜ ìì£¼ ëŠë¼ë‚˜ìš”?',
    options: [
      { id: 'never', label: 'ê±°ì˜ ì—†ìŒ', value: 0 },
      { id: 'sometimes', label: 'ê°€ë” (ì£¼ 1-2íšŒ)', value: 1 },
      { id: 'often', label: 'ìì£¼ (ì£¼ 3-4íšŒ)', value: 2 },
      { id: 'always', label: 'ê±°ì˜ ë§¤ì¼', value: 3 }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 0.5,
      mapping: {
        'never': 0,
        'sometimes': 25,
        'often': 50,
        'always': 75
      }
    }
  },
  
  // ========== ì¹´í…Œê³ ë¦¬ 3: ìƒí™œ ìŠµê´€ (3ë¬¸í•­) ==========
  {
    id: 'q11',
    category: 'lifestyle',
    type: 'single',
    question: 'í•˜ë£¨ í‰ê·  ì•‰ì•„ìˆëŠ” ì‹œê°„ì€?',
    description: 'ì—…ë¬´, ê³µë¶€, ìš´ì „, ì‹ì‚¬ ë“± ëª¨ë‘ í¬í•¨',
    options: [
      { id: 'short', label: '4ì‹œê°„ ë¯¸ë§Œ', value: 0 },
      { id: 'medium', label: '4-8ì‹œê°„', value: 1 },
      { id: 'long', label: '8-12ì‹œê°„', value: 2 },
      { id: 'very_long', label: '12ì‹œê°„ ì´ìƒ', value: 3 }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 0.6,
      mapping: {
        'short': 0,
        'medium': 30,
        'long': 60,
        'very_long': 90
      }
    }
  },
  
  {
    id: 'q12',
    category: 'lifestyle',
    type: 'single',
    question: 'ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì—…ë¬´/ê³µë¶€ í™˜ê²½ì€?',
    options: [
      { id: 'ergonomic', label: 'ì¸ì²´ê³µí•™ì  ì±…ìƒ/ì˜ì ì‚¬ìš©', value: 0 },
      { id: 'standard', label: 'ì¼ë°˜ ì±…ìƒ/ì˜ì', value: 1 },
      { id: 'laptop', label: 'ë…¸íŠ¸ë¶ ì£¼ë¡œ ì‚¬ìš©', value: 2 },
      { id: 'mobile', label: 'ìŠ¤ë§ˆíŠ¸í°ì„ ë§ì´ ì‚¬ìš©', value: 3 }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 0.7,
      mapping: {
        'ergonomic': 0,
        'standard': 20,
        'laptop': 50,
        'mobile': 70
      }
    }
  },
  
  {
    id: 'q13',
    category: 'lifestyle',
    type: 'single',
    question: 'ê·œì¹™ì ì¸ ìš´ë™ ìŠµê´€ì´ ìˆë‚˜ìš”?',
    description: 'ì£¼ 2íšŒ ì´ìƒ, 30ë¶„ ì´ìƒ',
    options: [
      { id: 'regular', label: 'ê·œì¹™ì ìœ¼ë¡œ í•œë‹¤ (ì£¼ 3íšŒ ì´ìƒ)', value: 0 },
      { id: 'sometimes', label: 'ê°€ë” í•œë‹¤ (ì£¼ 1-2íšŒ)', value: 1 },
      { id: 'rarely', label: 'ê±°ì˜ ì•ˆ í•œë‹¤ (ì›” 1-2íšŒ)', value: 2 },
      { id: 'never', label: 'ì „í˜€ ì•ˆ í•œë‹¤', value: 3 }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 0.5,
      mapping: {
        'regular': -20,  // ìš´ë™í•˜ë©´ ì ìˆ˜ ê°ì†Œ
        'sometimes': 0,
        'rarely': 20,
        'never': 40
      }
    }
  },
  
  // ========== ì¹´í…Œê³ ë¦¬ 4: ëª©í‘œ (2ë¬¸í•­) ==========
  {
    id: 'q14',
    category: 'goal',
    type: 'single',
    question: 'ê°€ì¥ ê°œì„ í•˜ê³  ì‹¶ì€ ê²ƒì€?',
    options: [
      { id: 'posture', label: 'ë°”ë¥¸ ìì„¸ ë§Œë“¤ê¸°', value: 'posture' },
      { id: 'pain', label: 'ë¶ˆí¸í•¨ ì¤„ì´ê¸°', value: 'pain' },
      { id: 'appearance', label: 'ì²´í˜• ê°œì„  (ì™¸ê´€)', value: 'appearance' },
      { id: 'performance', label: 'ìš´ë™ ëŠ¥ë ¥ í–¥ìƒ', value: 'performance' }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 0.0,  // ì ìˆ˜ì— ë°˜ì˜ ì•ˆ í•¨ (ëª©í‘œ ì‹ë³„ìš©)
      mapping: {}
    }
  },
  
  {
    id: 'q15',
    category: 'goal',
    type: 'single',
    question: 'ìì„¸ ê°œì„ ì— íˆ¬ìí•  ìˆ˜ ìˆëŠ” ì‹œê°„ì€?',
    description: 'ì£¼ê°„ ê¸°ì¤€',
    options: [
      { id: 'minimal', label: 'ì£¼ 1-2ì‹œê°„ (í•˜ë£¨ 10-15ë¶„)', value: 'minimal' },
      { id: 'moderate', label: 'ì£¼ 3-4ì‹œê°„ (í•˜ë£¨ 30ë¶„)', value: 'moderate' },
      { id: 'dedicated', label: 'ì£¼ 5ì‹œê°„ ì´ìƒ (í•˜ë£¨ 1ì‹œê°„)', value: 'dedicated' }
    ],
    required: true,
    scoring: {
      dimension: 'forward_head',
      weight: 0.0,  // ì ìˆ˜ì— ë°˜ì˜ ì•ˆ í•¨ (ì¶”ì²œ í”Œëœ ê²°ì •ìš©)
      mapping: {}
    }
  }
];
```

---

## 3. ê²°ê³¼ ë¶„ì„ ë¡œì§

### 3.1 ì ìˆ˜ ê³„ì‚° ì•Œê³ ë¦¬ì¦˜

```typescript
// lib/survey-analyzer.ts

export interface PostureScores {
  forwardHead: number;        // 0-100
  roundedShoulder: number;    // 0-100
  anteriorPelvicTilt: number; // 0-100
  posteriorPelvicTilt: number;// 0-100
}

export interface AnalysisResult {
  // ì²´í˜• ìœ í˜•
  postureType: PostureType;
  
  // ì‹¬ê°ë„
  overallSeverity: 'mild' | 'moderate' | 'severe';
  
  // ê° ë¶€ìœ„ë³„ ì ìˆ˜
  scores: PostureScores;
  
  // ì£¼ìš” ë¬¸ì œì  (ìµœëŒ€ 3ê°œ)
  primaryIssues: Array<{
    area: string;
    severity: 'mild' | 'moderate' | 'severe';
    description: string;
  }>;
  
  // ë§ì¶¤ ê¶Œì¥ì‚¬í•­
  recommendations: string[];
  
  // ì¶”ì²œ í”Œëœ
  recommendedPlan: 'basic' | 'standard' | 'premium';
  
  // ì‚¬ìš©ì ëª©í‘œ
  userGoal: string;
  timeCommitment: string;
}

export type PostureType = 
  | 'forward_head'              // ê±°ë¶ëª©í˜•
  | 'rounded_shoulder'          // ë¼ìš´ë“œìˆ„ë”í˜•
  | 'upper_cross_syndrome'      // ìƒë¶€êµì°¨ì¦í›„êµ° (ê±°ë¶ëª©+ë¼ìš´ë“œìˆ„ë”)
  | 'anterior_pelvic_tilt'      // ê³¨ë°˜ì „ë°©ê²½ì‚¬í˜•
  | 'posterior_pelvic_tilt'     // ê³¨ë°˜í›„ë°©ê²½ì‚¬í˜•
  | 'swayback'                  // ìš”ì¶”ë§Œê³¡í˜•
  | 'flat_back'                 // í‰í‰í•œë“±í˜•
  | 'neutral';                  // ì–‘í˜¸í•œí˜•

// ë©”ì¸ ë¶„ì„ í•¨ìˆ˜
export function analyzeSurveyResults(
  responses: Record<string, string | string[]>
): AnalysisResult {
  
  // 1. ê° ì°¨ì›ë³„ ì ìˆ˜ ê³„ì‚°
  const scores = calculateDimensionScores(responses);
  
  // 2. ì²´í˜• ìœ í˜• íŒë‹¨
  const postureType = determinePostureType(scores);
  
  // 3. ì „ì²´ ì‹¬ê°ë„ í‰ê°€
  const overallSeverity = calculateOverallSeverity(scores);
  
  // 4. ì£¼ìš” ë¬¸ì œì  ì¶”ì¶œ
  const primaryIssues = identifyPrimaryIssues(scores, responses);
  
  // 5. ë§ì¶¤ ê¶Œì¥ì‚¬í•­ ìƒì„±
  const recommendations = generateRecommendations(postureType, scores, responses);
  
  // 6. ì¶”ì²œ í”Œëœ ê²°ì •
  const recommendedPlan = determineRecommendedPlan(overallSeverity, responses);
  
  // 7. ì‚¬ìš©ì ëª©í‘œ ì¶”ì¶œ
  const userGoal = responses['q14'] as string;
  const timeCommitment = responses['q15'] as string;
  
  return {
    postureType,
    overallSeverity,
    scores,
    primaryIssues,
    recommendations,
    recommendedPlan,
    userGoal,
    timeCommitment
  };
}

// ì°¨ì›ë³„ ì ìˆ˜ ê³„ì‚°
function calculateDimensionScores(
  responses: Record<string, string | string[]>
): PostureScores {
  
  const dimensionScores: Record<string, number[]> = {
    forward_head: [],
    rounded_shoulder: [],
    anterior_pelvic_tilt: [],
    posterior_pelvic_tilt: []
  };
  
  // ê° ì§ˆë¬¸ì˜ ë‹µë³€ì„ ì ìˆ˜ë¡œ ë³€í™˜
  SURVEY_QUESTIONS.forEach(question => {
    const response = responses[question.id];
    if (!response) return;
    
    const { dimension, weight, mapping } = question.scoring;
    
    if (question.type === 'multiple') {
      // ë³µìˆ˜ ì„ íƒ
      const selections = response as string[];
      const totalScore = selections.reduce((sum, selection) => {
        return sum + (mapping[selection] || 0);
      }, 0);
      dimensionScores[dimension].push(totalScore * weight);
      
    } else {
      // ë‹¨ì¼ ì„ íƒ
      const score = mapping[response as string] || 0;
      dimensionScores[dimension].push(score * weight);
    }
  });
  
  // ê° ì°¨ì›ë³„ í‰ê·  ì ìˆ˜ ê³„ì‚° (0-100)
  return {
    forwardHead: calculateAverage(dimensionScores.forward_head),
    roundedShoulder: calculateAverage(dimensionScores.rounded_shoulder),
    anteriorPelvicTilt: calculateAverage(dimensionScores.anterior_pelvic_tilt),
    posteriorPelvicTilt: calculateAverage(dimensionScores.posterior_pelvic_tilt)
  };
}

function calculateAverage(scores: number[]): number {
  if (scores.length === 0) return 0;
  const sum = scores.reduce((a, b) => a + b, 0);
  const avg = sum / scores.length;
  return Math.min(100, Math.max(0, avg)); // 0-100 ë²”ìœ„ë¡œ ì œí•œ
}

// ì²´í˜• ìœ í˜• íŒë‹¨
function determinePostureType(scores: PostureScores): PostureType {
  const { forwardHead, roundedShoulder, anteriorPelvicTilt, posteriorPelvicTilt } = scores;
  
  // ëª¨ë“  ì ìˆ˜ê°€ 30 ë¯¸ë§Œì´ë©´ ì–‘í˜¸
  if (Math.max(forwardHead, roundedShoulder, anteriorPelvicTilt, posteriorPelvicTilt) < 30) {
    return 'neutral';
  }
  
  // ìƒë¶€êµì°¨ì¦í›„êµ° (ê±°ë¶ëª© + ë¼ìš´ë“œìˆ„ë” ë‘˜ ë‹¤ 50 ì´ìƒ)
  if (forwardHead >= 50 && roundedShoulder >= 50) {
    return 'upper_cross_syndrome';
  }
  
  // ê°€ì¥ ë†’ì€ ì ìˆ˜ì˜ ìœ í˜• ë°˜í™˜
  const maxScore = Math.max(forwardHead, roundedShoulder, anteriorPelvicTilt, posteriorPelvicTilt);
  
  if (maxScore === forwardHead) return 'forward_head';
  if (maxScore === roundedShoulder) return 'rounded_shoulder';
  if (maxScore === anteriorPelvicTilt) return 'anterior_pelvic_tilt';
  if (maxScore === posteriorPelvicTilt) return 'posterior_pelvic_tilt';
  
  return 'neutral';
}

// ì „ì²´ ì‹¬ê°ë„ í‰ê°€
function calculateOverallSeverity(scores: PostureScores): 'mild' | 'moderate' | 'severe' {
  const values = Object.values(scores);
  const maxScore = Math.max(...values);
  const avgScore = values.reduce((a, b) => a + b, 0) / values.length;
  
  // í‰ê·  ê¸°ì¤€
  if (avgScore >= 60 || maxScore >= 80) return 'severe';
  if (avgScore >= 40 || maxScore >= 60) return 'moderate';
  return 'mild';
}

// ì£¼ìš” ë¬¸ì œì  ì‹ë³„
function identifyPrimaryIssues(
  scores: PostureScores,
  responses: Record<string, string | string[]>
): Array<{ area: string; severity: 'mild' | 'moderate' | 'severe'; description: string }> {
  
  const issues: Array<{ area: string; score: number; severity: 'mild' | 'moderate' | 'severe'; description: string }> = [];
  
  // ê±°ë¶ëª©
  if (scores.forwardHead >= 30) {
    issues.push({
      area: 'ëª©/ê²½ì¶”',
      score: scores.forwardHead,
      severity: getSeverityLevel(scores.forwardHead),
      description: ISSUE_DESCRIPTIONS.forward_head[getSeverityLevel(scores.forwardHead)]
    });
  }
  
  // ë¼ìš´ë“œìˆ„ë”
  if (scores.roundedShoulder >= 30) {
    issues.push({
      area: 'ì–´ê¹¨/í‰ì¶”',
      score: scores.roundedShoulder,
      severity: getSeverityLevel(scores.roundedShoulder),
      description: ISSUE_DESCRIPTIONS.rounded_shoulder[getSeverityLevel(scores.roundedShoulder)]
    });
  }
  
  // ê³¨ë°˜ ì „ë°© ê²½ì‚¬
  if (scores.anteriorPelvicTilt >= 30) {
    issues.push({
      area: 'ê³¨ë°˜/í—ˆë¦¬',
      score: scores.anteriorPelvicTilt,
      severity: getSeverityLevel(scores.anteriorPelvicTilt),
      description: ISSUE_DESCRIPTIONS.anterior_pelvic_tilt[getSeverityLevel(scores.anteriorPelvicTilt)]
    });
  }
  
  // ê³¨ë°˜ í›„ë°© ê²½ì‚¬
  if (scores.posteriorPelvicTilt >= 30) {
    issues.push({
      area: 'ê³¨ë°˜/í—ˆë¦¬',
      score: scores.posteriorPelvicTilt,
      severity: getSeverityLevel(scores.posteriorPelvicTilt),
      description: ISSUE_DESCRIPTIONS.posterior_pelvic_tilt[getSeverityLevel(scores.posteriorPelvicTilt)]
    });
  }
  
  // ì ìˆ˜ ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬, ìµœëŒ€ 3ê°œ
  return issues
    .sort((a, b) => b.score - a.score)
    .slice(0, 3)
    .map(({ area, severity, description }) => ({ area, severity, description }));
}

function getSeverityLevel(score: number): 'mild' | 'moderate' | 'severe' {
  if (score >= 70) return 'severe';
  if (score >= 45) return 'moderate';
  return 'mild';
}

// ë¬¸ì œë³„ ì„¤ëª… (ë²•ì  ì¤€ìˆ˜)
const ISSUE_DESCRIPTIONS = {
  forward_head: {
    mild: 'ê³ ê°œê°€ ì•½ê°„ ì•ìœ¼ë¡œ ë‚˜ì˜¨ ìƒíƒœì…ë‹ˆë‹¤. ëª© ì£¼ë³€ ê·¼ìœ¡ì˜ ê· í˜•ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    moderate: 'ê³ ê°œê°€ ëˆˆì— ë„ê²Œ ì•ìœ¼ë¡œ ë‚˜ì˜¨ ìƒíƒœì…ë‹ˆë‹¤. ëª©ê³¼ ì–´ê¹¨ ê·¼ìœ¡ì˜ ê¸´ì¥ì´ ê´€ì°°ë©ë‹ˆë‹¤.',
    severe: 'ê³ ê°œê°€ ë§ì´ ì•ìœ¼ë¡œ ë‚˜ì˜¨ ìƒíƒœì…ë‹ˆë‹¤. ëª©, ì–´ê¹¨, ë“± ìƒë¶€ì˜ ê·¼ìœ¡ ë¶ˆê· í˜•ì´ ì‹¬í™”ëœ ìƒíƒœì…ë‹ˆë‹¤.'
  },
  rounded_shoulder: {
    mild: 'ì–´ê¹¨ê°€ ì•½ê°„ ì•ìœ¼ë¡œ ë§ë¦° ìƒíƒœì…ë‹ˆë‹¤. ê°€ìŠ´ ê·¼ìœ¡ì´ ì§§ì•„ì§€ê³  ìˆìŠµë‹ˆë‹¤.',
    moderate: 'ì–´ê¹¨ê°€ ëˆˆì— ë„ê²Œ ì•ìœ¼ë¡œ ë§ë¦° ìƒíƒœì…ë‹ˆë‹¤. ê°€ìŠ´ê³¼ ë“± ê·¼ìœ¡ì˜ ë¶ˆê· í˜•ì´ ê´€ì°°ë©ë‹ˆë‹¤.',
    severe: 'ì–´ê¹¨ê°€ ë§ì´ ì•ìœ¼ë¡œ ë§ë¦° ìƒíƒœì…ë‹ˆë‹¤. ìƒì²´ ì „ë©´ê³¼ í›„ë©´ì˜ ê·¼ìœ¡ ë¶ˆê· í˜•ì´ ì‹¬í™”ë˜ì—ˆìŠµë‹ˆë‹¤.'
  },
  anterior_pelvic_tilt: {
    mild: 'ê³¨ë°˜ì´ ì•½ê°„ ì•ìœ¼ë¡œ ê¸°ìš¸ì–´ì§„ ìƒíƒœì…ë‹ˆë‹¤. í—ˆë¦¬ ì£¼ë³€ ê·¼ìœ¡ì˜ ê· í˜•ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    moderate: 'ê³¨ë°˜ì´ ëˆˆì— ë„ê²Œ ì•ìœ¼ë¡œ ê¸°ìš¸ì–´ì§„ ìƒíƒœì…ë‹ˆë‹¤. ë³µë¶€ì™€ ì—‰ë©ì´ ê·¼ìœ¡ì˜ ì•½í™”ê°€ ê´€ì°°ë©ë‹ˆë‹¤.',
    severe: 'ê³¨ë°˜ì´ ë§ì´ ì•ìœ¼ë¡œ ê¸°ìš¸ì–´ì§„ ìƒíƒœì…ë‹ˆë‹¤. í—ˆë¦¬ ê³¼ê¸´ì¥ê³¼ ë³µë¶€/ë‘”ê·¼ì˜ ì•½í™”ê°€ ì‹¬í™”ë˜ì—ˆìŠµë‹ˆë‹¤.'
  },
  posterior_pelvic_tilt: {
    mild: 'ê³¨ë°˜ì´ ì•½ê°„ ë’¤ë¡œ ê¸°ìš¸ì–´ì§„ ìƒíƒœì…ë‹ˆë‹¤. í—ˆë¦¬ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ê³¡ì„ ì´ ì¤„ì–´ë“¤ê³  ìˆìŠµë‹ˆë‹¤.',
    moderate: 'ê³¨ë°˜ì´ ëˆˆì— ë„ê²Œ ë’¤ë¡œ ê¸°ìš¸ì–´ì§„ ìƒíƒœì…ë‹ˆë‹¤. í—ˆë¦¬ê°€ í‰í‰í•´ì§€ê³  ìˆìŠµë‹ˆë‹¤.',
    severe: 'ê³¨ë°˜ì´ ë§ì´ ë’¤ë¡œ ê¸°ìš¸ì–´ì§„ ìƒíƒœì…ë‹ˆë‹¤. í—ˆë¦¬ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ê³¡ì„ ì´ ê±°ì˜ ì‚¬ë¼ì¡ŒìŠµë‹ˆë‹¤.'
  }
};

// ë§ì¶¤ ê¶Œì¥ì‚¬í•­ ìƒì„±
function generateRecommendations(
  postureType: PostureType,
  scores: PostureScores,
  responses: Record<string, string | string[]>
): string[] {
  
  const recommendations: string[] = [];
  
  // ì²´í˜• ìœ í˜•ë³„ ê¸°ë³¸ ê¶Œì¥ì‚¬í•­
  const baseRecommendations = POSTURE_TYPE_RECOMMENDATIONS[postureType];
  recommendations.push(...baseRecommendations);
  
  // ìƒí™œ ìŠµê´€ ê¸°ë°˜ ì¶”ê°€ ê¶Œì¥ì‚¬í•­
  const sittingTime = responses['q11'];
  if (sittingTime === 'long' || sittingTime === 'very_long') {
    recommendations.push('ì¥ì‹œê°„ ì•‰ì•„ìˆëŠ” ê²½ìš°ê°€ ë§ìœ¼ë‹ˆ, 50ë¶„ë§ˆë‹¤ 5ë¶„ì”© ì¼ì–´ë‚˜ì„œ ìŠ¤íŠ¸ë ˆì¹­í•˜ëŠ” ìŠµê´€ì„ ë“¤ì´ì„¸ìš”.');
  }
  
  const workEnvironment = responses['q12'];
  if (workEnvironment === 'laptop' || workEnvironment === 'mobile') {
    recommendations.push('ë…¸íŠ¸ë¶ì´ë‚˜ ìŠ¤ë§ˆíŠ¸í° ì‚¬ìš© ì‹œ í™”ë©´ì„ ëˆˆë†’ì´ê¹Œì§€ ì˜¬ë ¤ì„œ ì‚¬ìš©í•˜ì„¸ìš”.');
  }
  
  // ìš´ë™ ìŠµê´€ ê¸°ë°˜
  const exercise = responses['q13'];
  if (exercise === 'rarely' || exercise === 'never') {
    recommendations.push('ì£¼ 2-3íšŒ, 20-30ë¶„ ì •ë„ì˜ ê°€ë²¼ìš´ ìš´ë™ë¶€í„° ì‹œì‘í•˜ì„¸ìš”.');
  }
  
  return recommendations.slice(0, 5); // ìµœëŒ€ 5ê°œ
}

const POSTURE_TYPE_RECOMMENDATIONS: Record<PostureType, string[]> = {
  neutral: [
    'í˜„ì¬ ìƒíƒœê°€ ì–‘í˜¸í•©ë‹ˆë‹¤! ì´ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.',
    'ê·œì¹™ì ì¸ ìŠ¤íŠ¸ë ˆì¹­ìœ¼ë¡œ ì˜ˆë°©í•˜ì„¸ìš”.',
    'ì˜¬ë°”ë¥¸ ìì„¸ ìŠµê´€ì„ ê³„ì† ìœ ì§€í•˜ì„¸ìš”.'
  ],
  forward_head: [
    'ëª© ë’¤ìª½ ê·¼ìœ¡ì„ ê°•í™”í•˜ê³ , ê°€ìŠ´ ê·¼ìœ¡ì„ ì´ì™„í•˜ëŠ” ìš´ë™ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    'í„± ë‹¹ê¸°ê¸° ìš´ë™ì„ í•˜ë£¨ 3íšŒ, 10íšŒì”© ë°˜ë³µí•˜ì„¸ìš”.',
    'ëª¨ë‹ˆí„° ë†’ì´ë¥¼ ëˆˆë†’ì´ì— ë§ì¶”ì„¸ìš”.'
  ],
  rounded_shoulder: [
    'ê°€ìŠ´ì„ í´ëŠ” ìŠ¤íŠ¸ë ˆì¹­ê³¼ ë“± ê·¼ìœ¡ ê°•í™” ìš´ë™ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    'ë²½ì— ë“±ì„ ëŒ€ê³  ì–´ê¹¨ë¥¼ ë’¤ë¡œ ë‹¹ê¸°ëŠ” ë™ì‘ì„ ìì£¼ í•˜ì„¸ìš”.',
    'ê°€ìŠ´ ì• ê·¼ìœ¡(ëŒ€í‰ê·¼)ì„ ì¶©ë¶„íˆ ì´ì™„í•˜ì„¸ìš”.'
  ],
  upper_cross_syndrome: [
    'ëª©, ì–´ê¹¨, ë“± ì „ì²´ì˜ ê·¼ìœ¡ ê· í˜• íšŒë³µì´ í•„ìš”í•©ë‹ˆë‹¤.',
    'í„± ë‹¹ê¸°ê¸°ì™€ ì–´ê¹¨ ë’¤ë¡œ ë‹¹ê¸°ê¸°ë¥¼ ë™ì‹œì— ìˆ˜í–‰í•˜ì„¸ìš”.',
    'ì²´ê³„ì ì¸ 4ë‹¨ê³„ ìš´ë™ í”„ë¡œê·¸ë¨ì„ ì¶”ì²œí•©ë‹ˆë‹¤.'
  ],
  anterior_pelvic_tilt: [
    'ë³µë¶€ì™€ ë‘”ê·¼ ê°•í™”, í—ˆë¦¬ì™€ ê³ ê´€ì ˆ êµ´ê·¼ ì´ì™„ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    'í”Œë­í¬ì™€ ë°ë“œë²„ê·¸ ìš´ë™ìœ¼ë¡œ ì½”ì–´ë¥¼ ê°•í™”í•˜ì„¸ìš”.',
    'ì—‰ë©ì´ ìŠ¤íŠ¸ë ˆì¹­ì„ ê¾¸ì¤€íˆ í•˜ì„¸ìš”.'
  ],
  posterior_pelvic_tilt: [
    'í—ˆë¦¬ ì‹ ì „ê·¼ ê°•í™”ì™€ í–„ìŠ¤íŠ¸ë§ ì´ì™„ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    'ê³ ì–‘ì´-ì†Œ ìì„¸ë¡œ ì²™ì¶” ì›€ì§ì„ì„ íšŒë³µí•˜ì„¸ìš”.',
    'í—ˆë¦¬ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ê³¡ì„ ì„ ì°¾ëŠ” ì—°ìŠµì´ í•„ìš”í•©ë‹ˆë‹¤.'
  ],
  swayback: [
    'ì „ì‹ ì˜ ìì„¸ ì •ë ¬ ì¡°ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    'ì²´ê³„ì ì¸ í‰ê°€ì™€ ë§ì¶¤ ìš´ë™ í”„ë¡œê·¸ë¨ì„ ê¶Œì¥í•©ë‹ˆë‹¤.'
  ],
  flat_back: [
    'ì²™ì¶”ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ê³¡ì„ ì„ íšŒë³µí•˜ëŠ” ìš´ë™ì´ í•„ìš”í•©ë‹ˆë‹¤.',
    'ê³¨ë°˜ ê¸°ìš¸ì´ê¸°ì™€ í‰ì¶” ì‹ ì „ ìš´ë™ì„ í•˜ì„¸ìš”.'
  ]
};

// ì¶”ì²œ í”Œëœ ê²°ì •
function determineRecommendedPlan(
  severity: 'mild' | 'moderate' | 'severe',
  responses: Record<string, string | string[]>
): 'basic' | 'standard' | 'premium' {
  
  // ì‹¬ê°ë„ ê¸°ë°˜
  if (severity === 'severe') {
    return 'premium';  // Zoom ì½”ì¹­ í•„ìš”
  }
  
  if (severity === 'moderate') {
    return 'standard';  // ì£¼ê°„ í”¼ë“œë°± í•„ìš”
  }
  
  // ì‹œê°„ íˆ¬ì ì˜í–¥ ê¸°ë°˜
  const timeCommitment = responses['q15'];
  if (timeCommitment === 'dedicated') {
    return 'standard';  // ì ê·¹ì ì¸ ê°œì„  ì˜ì§€
  }
  
  return 'basic';  // ê¸°ë³¸ ê°€ì´ë“œë¡œ ì¶©ë¶„
}
```

---

## 4. PDF ìƒì„± ì‹œìŠ¤í…œ

### 4.1 PDF í…œí”Œë¦¿ êµ¬ì¡°

```typescript
// lib/pdf-generator.ts

import { Document, Page, Text, View, Image, StyleSheet, Font, pdf } from '@react-pdf/renderer';

// í°íŠ¸ ë“±ë¡ (í•œê¸€ ì§€ì›)
Font.register({
  family: 'NotoSansKR',
  fonts: [
    { src: '/fonts/NotoSansKR-Regular.ttf', fontWeight: 'normal' },
    { src: '/fonts/NotoSansKR-Bold.ttf', fontWeight: 'bold' },
    { src: '/fonts/NotoSansKR-Light.ttf', fontWeight: 'light' }
  ]
});

// ìŠ¤íƒ€ì¼ ì •ì˜
const styles = StyleSheet.create({
  page: {
    padding: 40,
    fontFamily: 'NotoSansKR',
    fontSize: 10,
    lineHeight: 1.6
  },
  header: {
    marginBottom: 30,
    borderBottom: '2px solid #f97316',
    paddingBottom: 15
  },
  logo: {
    width: 120,
    height: 40,
    marginBottom: 10
  },
  title: {
    fontSize: 24,
    fontWeight: 'bold',
    color: '#1e293b',
    marginBottom: 5
  },
  subtitle: {
    fontSize: 12,
    color: '#64748b',
    marginBottom: 20
  },
  section: {
    marginBottom: 25
  },
  sectionTitle: {
    fontSize: 16,
    fontWeight: 'bold',
    color: '#0f172a',
    marginBottom: 12,
    paddingBottom: 8,
    borderBottom: '1px solid #e2e8f0'
  },
  paragraph: {
    fontSize: 10,
    color: '#334155',
    marginBottom: 10,
    lineHeight: 1.7
  },
  highlight: {
    backgroundColor: '#fef3c7',
    padding: '15px',
    borderRadius: 8,
    marginBottom: 15
  },
  highlightTitle: {
    fontSize: 12,
    fontWeight: 'bold',
    color: '#92400e',
    marginBottom: 8
  },
  highlightText: {
    fontSize: 10,
    color: '#78350f',
    lineHeight: 1.6
  },
  scoreBox: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    marginBottom: 15
  },
  scoreItem: {
    width: '48%',
    padding: 12,
    backgroundColor: '#f8fafc',
    borderRadius: 8,
    border: '1px solid #e2e8f0'
  },
  scoreLabel: {
    fontSize: 9,
    color: '#64748b',
    marginBottom: 4
  },
  scoreValue: {
    fontSize: 18,
    fontWeight: 'bold',
    color: '#0f172a'
  },
  scoreBar: {
    height: 8,
    backgroundColor: '#e2e8f0',
    borderRadius: 4,
    marginTop: 6,
    overflow: 'hidden'
  },
  scoreBarFill: {
    height: '100%',
    borderRadius: 4
  },
  bulletList: {
    marginLeft: 15
  },
  bulletItem: {
    flexDirection: 'row',
    marginBottom: 8
  },
  bullet: {
    width: 16,
    color: '#f97316',
    fontWeight: 'bold'
  },
  bulletText: {
    flex: 1,
    fontSize: 10,
    color: '#334155',
    lineHeight: 1.6
  },
  comparisonTable: {
    border: '1px solid #e2e8f0',
    borderRadius: 8,
    overflow: 'hidden',
    marginTop: 15
  },
  tableRow: {
    flexDirection: 'row',
    borderBottom: '1px solid #e2e8f0'
  },
  tableHeader: {
    backgroundColor: '#f1f5f9',
    fontWeight: 'bold'
  },
  tableCell: {
    flex: 1,
    padding: 10,
    fontSize: 9
  },
  ctaBox: {
    backgroundColor: '#f97316',
    padding: 20,
    borderRadius: 12,
    marginTop: 20
  },
  ctaTitle: {
    fontSize: 14,
    fontWeight: 'bold',
    color: '#ffffff',
    marginBottom: 8,
    textAlign: 'center'
  },
  ctaText: {
    fontSize: 10,
    color: '#ffffff',
    textAlign: 'center',
    marginBottom: 12
  },
  ctaButton: {
    backgroundColor: '#ffffff',
    padding: '10px 20px',
    borderRadius: 8,
    textAlign: 'center',
    marginTop: 10
  },
  ctaButtonText: {
    fontSize: 11,
    fontWeight: 'bold',
    color: '#f97316'
  },
  footer: {
    position: 'absolute',
    bottom: 30,
    left: 40,
    right: 40,
    paddingTop: 15,
    borderTop: '1px solid #e2e8f0',
    fontSize: 8,
    color: '#94a3b8',
    textAlign: 'center'
  },
  pageNumber: {
    position: 'absolute',
    bottom: 30,
    right: 40,
    fontSize: 8,
    color: '#94a3b8'
  }
});

// PDF ë¬¸ì„œ ì»´í¬ë„ŒíŠ¸
export const PostureAnalysisReport = ({ analysis, userInfo }: {
  analysis: AnalysisResult;
  userInfo: { name: string; email: string; analyzedAt: Date };
}) => (
  <Document>
    {/* í˜ì´ì§€ 1: ì»¤ë²„ + ìš”ì•½ */}
    <Page size="A4" style={styles.page}>
      {/* í—¤ë” */}
      <View style={styles.header}>
        <Image src="/logo.png" style={styles.logo} />
        <Text style={styles.title}>ìì„¸ ë¶„ì„ ë¦¬í¬íŠ¸</Text>
        <Text style={styles.subtitle}>
          {userInfo.name}ë‹˜ì˜ ë§ì¶¤ ìì„¸ í‰ê°€ ê²°ê³¼
        </Text>
        <Text style={styles.subtitle}>
          ë¶„ì„ì¼: {userInfo.analyzedAt.toLocaleDateString('ko-KR')}
        </Text>
      </View>
      
      {/* í˜„ì¬ ìƒíƒœ ìš”ì•½ */}
      <View style={styles.section}>
        <Text style={styles.sectionTitle}>ğŸ“Š í˜„ì¬ ìƒíƒœ ìš”ì•½</Text>
        
        <View style={styles.highlight}>
          <Text style={styles.highlightTitle}>
            ğŸ¯ ì£¼ìš” ì²´í˜• ìœ í˜•: {POSTURE_TYPE_NAMES[analysis.postureType]}
          </Text>
          <Text style={styles.highlightText}>
            {POSTURE_TYPE_DESCRIPTIONS[analysis.postureType]}
          </Text>
        </View>
        
        {/* ì ìˆ˜ ë°•ìŠ¤ */}
        <View style={styles.scoreBox}>
          <View style={styles.scoreItem}>
            <Text style={styles.scoreLabel}>ëª©/ê²½ì¶”</Text>
            <Text style={styles.scoreValue}>{analysis.scores.forwardHead.toFixed(0)}ì </Text>
            <View style={styles.scoreBar}>
              <View style={[
                styles.scoreBarFill,
                { width: `${analysis.scores.forwardHead}%`, backgroundColor: getScoreColor(analysis.scores.forwardHead) }
              ]} />
            </View>
          </View>
          
          <View style={styles.scoreItem}>
            <Text style={styles.scoreLabel}>ì–´ê¹¨/í‰ì¶”</Text>
            <Text style={styles.scoreValue}>{analysis.scores.roundedShoulder.toFixed(0)}ì </Text>
            <View style={styles.scoreBar}>
              <View style={[
                styles.scoreBarFill,
                { width: `${analysis.scores.roundedShoulder}%`, backgroundColor: getScoreColor(analysis.scores.roundedShoulder) }
              ]} />
            </View>
          </View>
        </View>
        
        <View style={styles.scoreBox}>
          <View style={styles.scoreItem}>
            <Text style={styles.scoreLabel}>ê³¨ë°˜ ì „ë°©</Text>
            <Text style={styles.scoreValue}>{analysis.scores.anteriorPelvicTilt.toFixed(0)}ì </Text>
            <View style={styles.scoreBar}>
              <View style={[
                styles.scoreBarFill,
                { width: `${analysis.scores.anteriorPelvicTilt}%`, backgroundColor: getScoreColor(analysis.scores.anteriorPelvicTilt) }
              ]} />
            </View>
          </View>
          
          <View style={styles.scoreItem}>
            <Text style={styles.scoreLabel}>ê³¨ë°˜ í›„ë°©</Text>
            <Text style={styles.scoreValue}>{analysis.scores.posteriorPelvicTilt.toFixed(0)}ì </Text>
            <View style={styles.scoreBar}>
              <View style={[
                styles.scoreBarFill,
                { width: `${analysis.scores.posteriorPelvicTilt}%`, backgroundColor: getScoreColor(analysis.scores.posteriorPelvicTilt) }
              ]} />
            </View>
          </View>
        </View>
        
        <Text style={styles.paragraph}>
          * 0-30ì : ì–‘í˜¸ | 30-60ì : ì£¼ì˜ í•„ìš” | 60-100ì : ê°œì„  í•„ìš”
        </Text>
      </View>
      
      {/* ì£¼ìš” ë°œê²¬ì‚¬í•­ */}
      <View style={styles.section}>
        <Text style={styles.sectionTitle}>ğŸ” ì£¼ìš” ë°œê²¬ì‚¬í•­</Text>
        <View style={styles.bulletList}>
          {analysis.primaryIssues.map((issue, index) => (
            <View key={index} style={styles.bulletItem}>
              <Text style={styles.bullet}>â€¢</Text>
              <Text style={styles.bulletText}>
                <Text style={{ fontWeight: 'bold' }}>[{issue.area}]</Text> {issue.description}
              </Text>
            </View>
          ))}
        </View>
      </View>
      
      <Text style={styles.footer}>
        Â© 2026 í¬ìŠ¤ì²˜ë© | ë³¸ ë¦¬í¬íŠ¸ëŠ” ìš´ë™ ê°€ì´ë“œ ì œê³µì„ ëª©ì ìœ¼ë¡œ í•˜ë©°, ì˜ë£Œ ì§„ë‹¨ì´ ì•„ë‹™ë‹ˆë‹¤.
      </Text>
      <Text style={styles.pageNumber}>1 / 5</Text>
    </Page>
    
    {/* í˜ì´ì§€ 2: ë°©ì¹˜ ì‹œ ë¦¬ìŠ¤í¬ */}
    <Page size="A4" style={styles.page}>
      <View style={styles.header}>
        <Text style={styles.title}>âš ï¸ ë°©ì¹˜ ì‹œ ë¦¬ìŠ¤í¬</Text>
      </View>
      
      <View style={styles.section}>
        <Text style={styles.paragraph}>
          í˜„ì¬ ìƒíƒœë¥¼ ë°©ì¹˜í•  ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì€ ë³€í™”ê°€ ë‚˜íƒ€ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
        </Text>
        
        <View style={styles.highlight}>
          <Text style={styles.highlightTitle}>
            â° ë‹¨ê¸° (1-3ê°œì›” ë‚´)
          </Text>
          <View style={styles.bulletList}>
            {getShortTermRisks(analysis.postureType).map((risk, i) => (
              <View key={i} style={styles.bulletItem}>
                <Text style={styles.bullet}>â€¢</Text>
                <Text style={styles.bulletText}>{risk}</Text>
              </View>
            ))}
          </View>
        </View>
        
        <View style={styles.highlight}>
          <Text style={styles.highlightTitle}>
            ğŸ“… ì¤‘ê¸° (3-12ê°œì›” ë‚´)
          </Text>
          <View style={styles.bulletList}>
            {getMidTermRisks(analysis.postureType).map((risk, i) => (
              <View key={i} style={styles.bulletItem}>
                <Text style={styles.bullet}>â€¢</Text>
                <Text style={styles.bulletText}>{risk}</Text>
              </View>
            ))}
          </View>
        </View>
        
        <View style={styles.highlight}>
          <Text style={styles.highlightTitle}>
            âš¡ ì¥ê¸° (1ë…„ ì´ìƒ)
          </Text>
          <View style={styles.bulletList}>
            {getLongTermRisks(analysis.postureType).map((risk, i) => (
              <View key={i} style={styles.bulletItem}>
                <Text style={styles.bullet}>â€¢</Text>
                <Text style={styles.bulletText}>{risk}</Text>
              </View>
            ))}
          </View>
        </View>
      </View>
      
      <Text style={styles.footer}>
        Â© 2026 í¬ìŠ¤ì²˜ë© | ë³¸ ë¦¬í¬íŠ¸ëŠ” ìš´ë™ ê°€ì´ë“œ ì œê³µì„ ëª©ì ìœ¼ë¡œ í•˜ë©°, ì˜ë£Œ ì§„ë‹¨ì´ ì•„ë‹™ë‹ˆë‹¤.
      </Text>
      <Text style={styles.pageNumber}>2 / 5</Text>
    </Page>
    
    {/* í˜ì´ì§€ 3: í˜¼ì vs ê´€ë¦¬ ë¹„êµ */}
    <Page size="A4" style={styles.page}>
      <View style={styles.header}>
        <Text style={styles.title}>ğŸ¤” í˜¼ì í•  ë•Œ vs ê´€ë¦¬ ë°›ì„ ë•Œ</Text>
      </View>
      
      <View style={styles.section}>
        <Text style={styles.paragraph}>
          ìì„¸ ê°œì„  ë°©ë²•ì— ë”°ë¥¸ ì˜ˆìƒ ê²°ê³¼ ë¹„êµ:
        </Text>
        
        <View style={styles.comparisonTable}>
          {/* í—¤ë” */}
          <View style={[styles.tableRow, styles.tableHeader]}>
            <Text style={[styles.tableCell, { flex: 1.5 }]}>êµ¬ë¶„</Text>
            <Text style={styles.tableCell}>í˜¼ì í•  ë•Œ</Text>
            <Text style={styles.tableCell}>ê´€ë¦¬ ë°›ì„ ë•Œ</Text>
          </View>
          
          {/* ë°ì´í„° í–‰ */}
          {COMPARISON_DATA.map((row, index) => (
            <View key={index} style={styles.tableRow}>
              <Text style={[styles.tableCell, { flex: 1.5, fontWeight: 'bold' }]}>{row.category}</Text>
              <Text style={styles.tableCell}>{row.alone}</Text>
              <Text style={styles.tableCell}>{row.managed}</Text>
            </View>
          ))}
        </View>
        
        <View style={[styles.highlight, { marginTop: 20 }]}>
          <Text style={styles.highlightTitle}>ğŸ’¡ ì•Œê³  ê³„ì…¨ë‚˜ìš”?</Text>
          <Text style={styles.highlightText}>
            â€¢ ì˜ëª»ëœ ìš´ë™ì€ ì˜¤íˆë ¤ ìì„¸ë¥¼ ì•…í™”ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤{'\n'}
            â€¢ ì „ë¬¸ê°€ì˜ í”¼ë“œë°±ì€ ìš´ë™ íš¨ê³¼ë¥¼ 3ë°° ì´ìƒ ë†’ì…ë‹ˆë‹¤{'\n'}
            â€¢ ì²´ê³„ì ì¸ 4ë‹¨ê³„ í”„ë¡œê·¸ë¨ì€ ì¬ë°œì„ 80% ê°ì†Œì‹œí‚µë‹ˆë‹¤
          </Text>
        </View>
      </View>
      
      <Text style={styles.footer}>
        Â© 2026 í¬ìŠ¤ì²˜ë© | ë³¸ ë¦¬í¬íŠ¸ëŠ” ìš´ë™ ê°€ì´ë“œ ì œê³µì„ ëª©ì ìœ¼ë¡œ í•˜ë©°, ì˜ë£Œ ì§„ë‹¨ì´ ì•„ë‹™ë‹ˆë‹¤.
      </Text>
      <Text style={styles.pageNumber}>3 / 5</Text>
    </Page>
    
    {/* í˜ì´ì§€ 4: ë§ì¶¤ ê°œì„  ë°©í–¥ */}
    <Page size="A4" style={styles.page}>
      <View style={styles.header}>
        <Text style={styles.title}>âœ¨ {userInfo.name}ë‹˜ì„ ìœ„í•œ ë§ì¶¤ ê°œì„  ë°©í–¥</Text>
      </View>
      
      <View style={styles.section}>
        <Text style={styles.sectionTitle}>ğŸ¯ ìš°ì„ ìˆœìœ„ ê°œì„  ë°©í–¥</Text>
        <View style={styles.bulletList}>
          {analysis.recommendations.map((rec, i) => (
            <View key={i} style={styles.bulletItem}>
              <Text style={styles.bullet}>{i + 1}.</Text>
              <Text style={styles.bulletText}>{rec}</Text>
            </View>
          ))}
        </View>
      </View>
      
      <View style={styles.section}>
        <Text style={styles.sectionTitle}>ğŸ’ª ì¶”ì²œ ìš´ë™ (ê¸°ë³¸ 3ê°€ì§€)</Text>
        <View style={styles.bulletList}>
          {getRecommendedExercises(analysis.postureType).map((exercise, i) => (
            <View key={i} style={[styles.bulletItem, { marginBottom: 12 }]}>
              <Text style={styles.bullet}>â€¢</Text>
              <View style={{ flex: 1 }}>
                <Text style={[styles.bulletText, { fontWeight: 'bold', marginBottom: 4 }]}>
                  {exercise.name}
                </Text>
                <Text style={[styles.bulletText, { fontSize: 9, color: '#64748b' }]}>
                  {exercise.description}
                </Text>
                <Text style={[styles.bulletText, { fontSize: 9, color: '#64748b', marginTop: 2 }]}>
                  {exercise.frequency}
                </Text>
              </View>
            </View>
          ))}
        </View>
        
        <Text style={[styles.paragraph, { marginTop: 15, fontStyle: 'italic', color: '#64748b' }]}>
          * ë” ìƒì„¸í•œ ì˜ìƒ ê°€ì´ë“œì™€ ë§ì¶¤ í”„ë¡œê·¸ë¨ì€ Basic í”Œëœì—ì„œ ì œê³µë©ë‹ˆë‹¤.
        </Text>
      </View>
      
      <Text style={styles.footer}>
        Â© 2026 í¬ìŠ¤ì²˜ë© | ë³¸ ë¦¬í¬íŠ¸ëŠ” ìš´ë™ ê°€ì´ë“œ ì œê³µì„ ëª©ì ìœ¼ë¡œ í•˜ë©°, ì˜ë£Œ ì§„ë‹¨ì´ ì•„ë‹™ë‹ˆë‹¤.
      </Text>
      <Text style={styles.pageNumber}>4 / 5</Text>
    </Page>
    
    {/* í˜ì´ì§€ 5: ë‹¤ìŒ ë‹¨ê³„ + CTA */}
    <Page size="A4" style={styles.page}>
      <View style={styles.header}>
        <Text style={styles.title}>ğŸš€ ë‹¤ìŒ ë‹¨ê³„</Text>
      </View>
      
      <View style={styles.section}>
        <Text style={styles.paragraph}>
          {userInfo.name}ë‹˜ì˜ í˜„ì¬ ìƒíƒœ({SEVERITY_NAMES[analysis.overallSeverity]})ë¥¼ ê³ ë ¤í–ˆì„ ë•Œ,{' '}
          <Text style={{ fontWeight: 'bold', color: '#f97316' }}>
            {PLAN_NAMES[analysis.recommendedPlan]}
          </Text>{' '}
          í”Œëœì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.
        </Text>
        
        {/* í”Œëœë³„ ë¹„êµ */}
        <View style={styles.comparisonTable}>
          <View style={[styles.tableRow, styles.tableHeader]}>
            <Text style={styles.tableCell}>í”Œëœ</Text>
            <Text style={styles.tableCell}>ì œê³µ ë‚´ìš©</Text>
            <Text style={styles.tableCell}>ê°€ê²©</Text>
          </View>
          
          <View style={styles.tableRow}>
            <Text style={[styles.tableCell, { fontWeight: 'bold' }]}>Free</Text>
            <Text style={styles.tableCell}>ì„¤ë¬¸ + PDF (ì´ ë¦¬í¬íŠ¸)</Text>
            <Text style={styles.tableCell}>ë¬´ë£Œ</Text>
          </View>
          
          <View style={[styles.tableRow, analysis.recommendedPlan === 'basic' && { backgroundColor: '#fef3c7' }]}>
            <Text style={[styles.tableCell, { fontWeight: 'bold' }]}>Basic</Text>
            <Text style={styles.tableCell}>ì‚¬ì§„ 2ì¥ + ì˜ìƒ í”¼ë“œë°± 1íšŒ</Text>
            <Text style={styles.tableCell}>â‚©29,900</Text>
          </View>
          
          <View style={[styles.tableRow, analysis.recommendedPlan === 'standard' && { backgroundColor: '#fef3c7' }]}>
            <Text style={[styles.tableCell, { fontWeight: 'bold' }]}>Standard</Text>
            <Text style={styles.tableCell}>ì£¼ 1íšŒ í”¼ë“œë°± + ì›” 2íšŒ ì¬í‰ê°€</Text>
            <Text style={styles.tableCell}>â‚©49,900</Text>
          </View>
          
          <View style={[styles.tableRow, analysis.recommendedPlan === 'premium' && { backgroundColor: '#fef3c7' }]}>
            <Text style={[styles.tableCell, { fontWeight: 'bold' }]}>Premium</Text>
            <Text style={styles.tableCell}>Zoom ì½”ì¹­ + ì¼ì • ê´€ë¦¬</Text>
            <Text style={styles.tableCell}>â‚©99,000/ì›”</Text>
          </View>
        </View>
      </View>
      
      {/* CTA */}
      <View style={styles.ctaBox}>
        <Text style={styles.ctaTitle}>
          ğŸ‰ ì§€ê¸ˆ ì—…ê·¸ë ˆì´ë“œí•˜ë©´ 20% í• ì¸!
        </Text>
        <Text style={styles.ctaText}>
          ì´ ë¦¬í¬íŠ¸ë¥¼ ë°›ì€ í›„ 7ì¼ ë‚´ ì—…ê·¸ë ˆì´ë“œ ì‹œ íŠ¹ë³„ í• ì¸ì„ ë“œë¦½ë‹ˆë‹¤.
        </Text>
        <View style={styles.ctaButton}>
          <Text style={styles.ctaButtonText}>
            www.posturelab.com/upgrade
          </Text>
        </View>
      </View>
      
      {/* ë©´ì±… ì¡°í•­ */}
      <View style={[styles.highlight, { marginTop: 20, backgroundColor: '#fef2f2' }]}>
        <Text style={[styles.highlightTitle, { color: '#991b1b' }]}>
          âš ï¸ ì¤‘ìš” ì•ˆë‚´
        </Text>
        <Text style={[styles.highlightText, { color: '#7f1d1d', fontSize: 8 }]}>
          â€¢ ë³¸ ë¦¬í¬íŠ¸ëŠ” ìš´ë™ ê°€ì´ë“œ ì œê³µì„ ëª©ì ìœ¼ë¡œ í•˜ë©°, ì˜ë£Œ ì§„ë‹¨ì´ ì•„ë‹™ë‹ˆë‹¤.{'\n'}
          â€¢ í†µì¦, ì§ˆë³‘, ë¶€ìƒì´ ìˆëŠ” ê²½ìš° ë°˜ë“œì‹œ ì˜ë£Œ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì„¸ìš”.{'\n'}
          â€¢ ìš´ë™ ì¤‘ ë°œìƒí•˜ëŠ” ë¶€ìƒì€ ì´ìš©ì ë³¸ì¸ì˜ ì±…ì„ì…ë‹ˆë‹¤.{'\n'}
          â€¢ ìš´ë™ íš¨ê³¼ëŠ” ê°œì¸ì°¨ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë©°, ê²°ê³¼ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        </Text>
      </View>
      
      <Text style={[styles.footer, { marginTop: 20 }]}>
        Â© 2026 í¬ìŠ¤ì²˜ë© | ê³ ê°ì„¼í„°: contact@posturelab.com | ì´ìš©ì•½ê´€ ë° ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨: www.posturelab.com/terms
      </Text>
      <Text style={styles.pageNumber}>5 / 5</Text>
    </Page>
  </Document>
);

// í—¬í¼ í•¨ìˆ˜ë“¤
function getScoreColor(score: number): string {
  if (score >= 70) return '#ef4444';  // red
  if (score >= 40) return '#f59e0b';  // amber
  return '#10b981';  // green
}

const POSTURE_TYPE_NAMES: Record<PostureType, string> = {
  neutral: 'ì–‘í˜¸í•œ ìì„¸',
  forward_head: 'ê±°ë¶ëª©í˜• ìì„¸',
  rounded_shoulder: 'ë¼ìš´ë“œìˆ„ë”í˜• ìì„¸',
  upper_cross_syndrome: 'ìƒë¶€ êµì°¨ ì¦í›„êµ°',
  anterior_pelvic_tilt: 'ê³¨ë°˜ ì „ë°© ê²½ì‚¬í˜•',
  posterior_pelvic_tilt: 'ê³¨ë°˜ í›„ë°© ê²½ì‚¬í˜•',
  swayback: 'ìš”ì¶” ë§Œê³¡í˜•',
  flat_back: 'í‰í‰í•œ ë“±í˜•'
};

const POSTURE_TYPE_DESCRIPTIONS: Record<PostureType, string> = {
  neutral: 'ì „ì²´ì ìœ¼ë¡œ ê· í˜• ì¡íŒ ìì„¸ë¥¼ ìœ ì§€í•˜ê³  ê³„ì‹­ë‹ˆë‹¤. í˜„ì¬ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.',
  forward_head: 'ê³ ê°œê°€ ì•ìœ¼ë¡œ ë‚˜ì˜¨ ìì„¸ë¡œ, ëª©ê³¼ ì–´ê¹¨ ì£¼ë³€ ê·¼ìœ¡ì˜ ë¶ˆê· í˜•ì´ ê´€ì°°ë©ë‹ˆë‹¤.',
  rounded_shoulder: 'ì–´ê¹¨ê°€ ì•ìœ¼ë¡œ ë§ë¦° ìì„¸ë¡œ, ê°€ìŠ´ê³¼ ë“± ê·¼ìœ¡ì˜ ë¶ˆê· í˜•ì´ ê´€ì°°ë©ë‹ˆë‹¤.',
  upper_cross_syndrome: 'ê³ ê°œì™€ ì–´ê¹¨ê°€ ëª¨ë‘ ì•ìœ¼ë¡œ ë‚˜ì˜¨ ìƒíƒœë¡œ, ìƒì²´ ì „ì²´ì˜ ê·¼ìœ¡ ê· í˜• íšŒë³µì´ í•„ìš”í•©ë‹ˆë‹¤.',
  anterior_pelvic_tilt: 'ê³¨ë°˜ì´ ì•ìœ¼ë¡œ ê¸°ìš¸ì–´ì§„ ìì„¸ë¡œ, í—ˆë¦¬ì™€ ë³µë¶€ ì£¼ë³€ ê·¼ìœ¡ì˜ ê· í˜•ì´ í•„ìš”í•©ë‹ˆë‹¤.',
  posterior_pelvic_tilt: 'ê³¨ë°˜ì´ ë’¤ë¡œ ê¸°ìš¸ì–´ì§„ ìì„¸ë¡œ, í—ˆë¦¬ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ê³¡ì„  íšŒë³µì´ í•„ìš”í•©ë‹ˆë‹¤.',
  swayback: 'ì „ì‹ ì˜ ìì„¸ ì •ë ¬ ì¡°ì •ì´ í•„ìš”í•œ ìƒíƒœì…ë‹ˆë‹¤.',
  flat_back: 'ì²™ì¶”ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ê³¡ì„ ì„ íšŒë³µí•˜ëŠ” ìš´ë™ì´ í•„ìš”í•œ ìƒíƒœì…ë‹ˆë‹¤.'
};

function getShortTermRisks(postureType: PostureType): string[] {
  const risks: Record<PostureType, string[]> = {
    neutral: ['í˜„ì¬ ìƒíƒœê°€ ì–‘í˜¸í•˜ë¯€ë¡œ íŠ¹ë³„í•œ ë¦¬ìŠ¤í¬ëŠ” ì—†ìŠµë‹ˆë‹¤.'],
    forward_head: [
      'ëª© ë’¤ìª½ê³¼ ì–´ê¹¨ ìƒë¶€ì˜ ê¸´ì¥ ì¦ê°€',
      'ë‘í†µê³¼ ëˆˆì˜ í”¼ë¡œ ë¹ˆë„ ì¦ê°€',
      'ì§‘ì¤‘ë ¥ ì €í•˜ ê°€ëŠ¥ì„±'
    ],
    rounded_shoulder: [
      'ê°€ìŠ´ ì• ê·¼ìœ¡ì˜ ì§€ì†ì  ë‹¨ì¶•',
      'ë“± ìœ„ìª½ ê·¼ìœ¡ì˜ ì•½í™” ì§„í–‰',
      'í˜¸í¡ ìš©ëŸ‰ ê°ì†Œ ê°€ëŠ¥ì„±'
    ],
    upper_cross_syndrome: [
      'ëª©ê³¼ ì–´ê¹¨ ë¶ˆí¸í•¨ì˜ ì¼ìƒí™”',
      'ìƒì²´ ì „ì²´ì˜ ê·¼ìœ¡ ë¶ˆê· í˜• ì‹¬í™”',
      'ì—…ë¬´ ì§‘ì¤‘ë„ ì €í•˜'
    ],
    anterior_pelvic_tilt: [
      'í—ˆë¦¬ ì£¼ë³€ ê·¼ìœ¡ì˜ ì§€ì†ì  ê¸´ì¥',
      'ë³µë¶€ ê·¼ìœ¡ì˜ ì•½í™” ì§„í–‰',
      'ì¥ì‹œê°„ ì„œìˆê¸° ë¶ˆí¸í•¨ ì¦ê°€'
    ],
    posterior_pelvic_tilt: [
      'í—ˆë¦¬ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ê³¡ì„  ì¶”ê°€ ê°ì†Œ',
      'í–„ìŠ¤íŠ¸ë§ ê¸´ì¥ ì¦ê°€',
      'ì•‰ì€ ìì„¸ì—ì„œì˜ ë¶ˆí¸í•¨ ì¦ê°€'
    ],
    swayback: ['ì „ì‹  ê·¼ìœ¡ ë¶ˆê· í˜•ì˜ ì ì§„ì  ì•…í™”'],
    flat_back: ['ì²™ì¶” ì¶©ê²© í¡ìˆ˜ ëŠ¥ë ¥ ê°ì†Œ']
  };
  return risks[postureType];
}

function getMidTermRisks(postureType: PostureType): string[] {
  const risks: Record<PostureType, string[]> = {
    neutral: ['ì˜ˆë°© ìš´ë™ì„ ê²Œì„ë¦¬í•  ê²½ìš° ìì„¸ê°€ ë¬´ë„ˆì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'],
    forward_head: [
      'ëª© ë””ìŠ¤í¬ ë¶€ë‹´ ì¦ê°€',
      'ë§Œì„±ì ì¸ ì–´ê¹¨ ê²°ë¦¼',
      'íŒ”ë¡œ ë°©ì‚¬ë˜ëŠ” ë¶ˆí¸í•¨ ê°€ëŠ¥ì„±'
    ],
    rounded_shoulder: [
      'ì–´ê¹¨ ê´€ì ˆ ê°€ë™ ë²”ìœ„ ì œí•œ',
      'ìƒì²´ ìœ ì—°ì„± ì§€ì†ì  ê°ì†Œ',
      'ë“±ì´ ë‘¥ê¸€ê²Œ êµ³ì–´ì§€ëŠ” ê²½í–¥'
    ],
    upper_cross_syndrome: [
      'ìƒì²´ ì „ë°˜ì˜ ë§Œì„±ì  ë¶ˆí¸í•¨',
      'ì¼ìƒ í™œë™ ì œí•œ ì¦ê°€',
      'ìì„¸ êµì • ë‚œì´ë„ ìƒìŠ¹'
    ],
    anterior_pelvic_tilt: [
      'ë§Œì„± í—ˆë¦¬ ë¶ˆí¸í•¨',
      'ê³¨ë°˜ ì£¼ë³€ ê·¼ìœ¡ì˜ ì‹¬í•œ ë¶ˆê· í˜•',
      'ìì„¸ ìœ ì§€ ëŠ¥ë ¥ ì €í•˜'
    ],
    posterior_pelvic_tilt: [
      'ì²™ì¶”ì˜ ìœ ì—°ì„± ê°ì†Œ',
      'ì•‰ì€ ìì„¸ ìœ ì§€ ì–´ë ¤ì›€',
      'í—ˆë¦¬ ê·¼ìœ¡ ì•½í™”'
    ],
    swayback: ['ë³µí•©ì  ìì„¸ ë¬¸ì œë¡œ ë°œì „ ê°€ëŠ¥ì„±'],
    flat_back: ['ì²™ì¶” ê´€ì ˆ ë¶€ë‹´ ì¦ê°€']
  };
  return risks[postureType];
}

function getLongTermRisks(postureType: PostureType): string[] {
  const risks: Record<PostureType, string[]> = {
    neutral: ['ì§€ì†ì ì¸ ê´€ë¦¬ë¡œ ê±´ê°•í•œ ìì„¸ë¥¼ í‰ìƒ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'],
    forward_head: [
      'ëª© êµ¬ì¡°ì˜ ë³€í˜• ê°€ëŠ¥ì„±',
      'ë§Œì„± ë‘í†µì˜ ì¼ìƒí™”',
      'ìƒì²´ ì „ì²´ë¡œ ë¬¸ì œ í™•ì‚° ê°€ëŠ¥ì„±'
    ],
    rounded_shoulder: [
      'ì–´ê¹¨ ê´€ì ˆ êµ¬ì¡°ì  ë³€í™”',
      'ë“±ì˜ ì˜êµ¬ì  ë‘¥ê·¼ í˜•íƒœ ê³ ì°©',
      'ì‹¬í ê¸°ëŠ¥ ì €í•˜ ê°€ëŠ¥ì„±'
    ],
    upper_cross_syndrome: [
      'ìƒì²´ êµ¬ì¡°ì  ë³€í˜•',
      'ì¼ìƒìƒí™œ ë™ì‘ ì œí•œ',
      'ìê°€ êµì • ë§¤ìš° ì–´ë ¤ìš´ ìƒíƒœë¡œ ì§„í–‰'
    ],
    anterior_pelvic_tilt: [
      'ë§Œì„± í—ˆë¦¬ ë¬¸ì œ',
      'ê³¨ë°˜ ë° ê³ ê´€ì ˆ êµ¬ì¡° ë³€í™”',
      'í•˜ì²´ ê¸°ëŠ¥ ì €í•˜ ê°€ëŠ¥ì„±'
    ],
    posterior_pelvic_tilt: [
      'ì²™ì¶”ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ê³¡ì„  ìƒì‹¤',
      'ì¥ì‹œê°„ í™œë™ ì‹œ ë¹ ë¥¸ í”¼ë¡œ',
      'ì²´í˜•ì˜ ì˜êµ¬ì  ë³€í™”'
    ],
    swayback: ['ì „ì‹  ìì„¸ ë¶ˆê· í˜• ê³ ì°©í™”'],
    flat_back: ['ì²™ì¶” í‡´í–‰ ê°€ì†í™” ê°€ëŠ¥ì„±']
  };
  return risks[postureType];
}

const COMPARISON_DATA = [
  {
    category: 'ì •í™•ë„',
    alone: 'ìê°€ íŒë‹¨ (50-60%)',
    managed: 'ì „ë¬¸ê°€ ë¶„ì„ (95%+)'
  },
  {
    category: 'ìš´ë™ ì„ íƒ',
    alone: 'ì¼ë°˜ì ì¸ ìš´ë™',
    managed: 'ê°œì¸ ë§ì¶¤ 4ë‹¨ê³„ í”„ë¡œê·¸ë¨'
  },
  {
    category: 'ë™ì‘ ì •í™•ë„',
    alone: 'ìŠ¤ìŠ¤ë¡œ íŒë‹¨ (ë¶ˆí™•ì‹¤)',
    managed: 'ì˜ìƒ í”¼ë“œë°±ìœ¼ë¡œ ì‹¤ì‹œê°„ êµì •'
  },
  {
    category: 'ê°œì„  ì†ë„',
    alone: 'ëŠë¦¼ (3-6ê°œì›”)',
    managed: 'ë¹ ë¦„ (1-2ê°œì›”)'
  },
  {
    category: 'ì¬ë°œ ë°©ì§€',
    alone: 'ì–´ë ¤ì›€ (70% ì¬ë°œ)',
    managed: 'ì²´ê³„ì  ê´€ë¦¬ (20% ì¬ë°œ)'
  },
  {
    category: 'ë¹„ìš©',
    alone: 'ë¬´ë£Œ (ì‹œê°„ ë¹„ìš© ë†’ìŒ)',
    managed: 'â‚©29,900~ (íš¨ìœ¨ì )'
  }
];

function getRecommendedExercises(postureType: PostureType): Array<{
  name: string;
  description: string;
  frequency: string;
}> {
  const exercises: Record<PostureType, Array<{ name: string; description: string; frequency: string }>> = {
    neutral: [
      {
        name: 'ì˜ˆë°© ìŠ¤íŠ¸ë ˆì¹­',
        description: 'ì „ì‹ ì„ ê°€ë³ê²Œ ì´ì™„í•˜ëŠ” ìŠ¤íŠ¸ë ˆì¹­',
        frequency: 'ë§¤ì¼ 5ë¶„'
      },
      {
        name: 'ì½”ì–´ ê°•í™”',
        description: 'í”Œë­í¬ì™€ ë²„ë“œë…ìœ¼ë¡œ ì½”ì–´ ì•ˆì •ì„± ìœ ì§€',
        frequency: 'ì£¼ 3íšŒ, 10ë¶„'
      },
      {
        name: 'ìì„¸ ì²´í¬',
        description: 'ê±°ìš¸ ì•ì—ì„œ ìì„¸ í™•ì¸í•˜ëŠ” ìŠµê´€',
        frequency: 'ë§¤ì¼ ì•„ì¹¨'
      }
    ],
    forward_head: [
      {
        name: 'í„± ë‹¹ê¸°ê¸° (Chin Tuck)',
        description: 'í„±ì„ ë’¤ë¡œ ë‹¹ê²¨ ëª© ë’¤ ê·¼ìœ¡ ê°•í™”',
        frequency: 'í•˜ë£¨ 3íšŒ, 10íšŒì”©'
      },
      {
        name: 'ëª© ì‹ ì „ê·¼ ìŠ¤íŠ¸ë ˆì¹­',
        description: 'ëª© ì•ìª½ì„ ë¶€ë“œëŸ½ê²Œ ëŠ˜ë ¤ì£¼ëŠ” ìŠ¤íŠ¸ë ˆì¹­',
        frequency: 'í•˜ë£¨ 2íšŒ, 30ì´ˆì”©'
      },
      {
        name: 'ìƒë¶€ ë“± ê°•í™”',
        description: 'ë°´ë“œë¥¼ ì´ìš©í•œ ë¡œìš° ë™ì‘',
        frequency: 'ì£¼ 3íšŒ, 12íšŒ Ã— 3ì„¸íŠ¸'
      }
    ],
    rounded_shoulder: [
      {
        name: 'ê°€ìŠ´ ìŠ¤íŠ¸ë ˆì¹­',
        description: 'ë²½ì´ë‚˜ ë¬¸í‹€ì„ ì´ìš©í•œ ëŒ€í‰ê·¼ ì´ì™„',
        frequency: 'í•˜ë£¨ 2íšŒ, 30ì´ˆì”©'
      },
      {
        name: 'ì–´ê¹¨ ë’¤ë¡œ ë‹¹ê¸°ê¸°',
        description: 'ê²¬ê°‘ê³¨ì„ ëª¨ìœ¼ëŠ” ë™ì‘ ë°˜ë³µ',
        frequency: 'í•˜ë£¨ 3íšŒ, 15íšŒì”©'
      },
      {
        name: 'ë“± ì¤‘ë¶€ ê°•í™”',
        description: 'í”„ë¡  Y-T-W ìš´ë™',
        frequency: 'ì£¼ 3íšŒ, 10íšŒ Ã— 3ì„¸íŠ¸'
      }
    ],
    upper_cross_syndrome: [
      {
        name: 'ë³µí•© ì‹ ì „ ìš´ë™',
        description: 'í„± ë‹¹ê¸°ê¸°ì™€ ì–´ê¹¨ ë’¤ë¡œ ë‹¹ê¸°ê¸° ë™ì‹œ ìˆ˜í–‰',
        frequency: 'í•˜ë£¨ 3íšŒ, 10íšŒì”©'
      },
      {
        name: 'í‰ì¶” ì‹ ì „',
        description: 'í¼ë¡¤ëŸ¬ë¥¼ ì´ìš©í•œ ë“± ìœ„ìª½ ì´ì™„',
        frequency: 'í•˜ë£¨ 1íšŒ, 2ë¶„'
      },
      {
        name: 'ì²´ê³„ì  4ë‹¨ê³„ í”„ë¡œê·¸ë¨',
        description: 'ì–µì œ-ì‹ ì¥-í™œì„±í™”-í†µí•© ìˆœì„œë¡œ ì§„í–‰',
        frequency: 'ì£¼ 4íšŒ, 30ë¶„ (ì „ë¬¸ê°€ ê°€ì´ë“œ ê¶Œì¥)'
      }
    ],
    anterior_pelvic_tilt: [
      {
        name: 'ë°ë“œë²„ê·¸ (Dead Bug)',
        description: 'ëˆ„ì›Œì„œ ë³µë¶€ ì½”ì–´ ì•ˆì •í™”',
        frequency: 'í•˜ë£¨ 2íšŒ, 10íšŒì”©'
      },
      {
        name: 'ê³ ê´€ì ˆ êµ´ê·¼ ìŠ¤íŠ¸ë ˆì¹­',
        description: 'ëŸ°ì§€ ìì„¸ë¡œ ì• í—ˆë²…ì§€ ì•ìª½ ì´ì™„',
        frequency: 'í•˜ë£¨ 2íšŒ, 30ì´ˆì”©'
      },
      {
        name: 'ê¸€ë£¨íŠ¸ ë¸Œë¦¿ì§€',
        description: 'ëˆ„ì›Œì„œ ì—‰ë©ì´ ë“¤ì–´ì˜¬ë¦¬ê¸°',
        frequency: 'ì£¼ 3íšŒ, 15íšŒ Ã— 3ì„¸íŠ¸'
      }
    ],
    posterior_pelvic_tilt: [
      {
        name: 'ê³ ì–‘ì´-ì†Œ ìì„¸',
        description: 'ì²™ì¶”ë¥¼ êµ¬ë¶€ë ¸ë‹¤ í´ëŠ” ë™ì‘ ë°˜ë³µ',
        frequency: 'í•˜ë£¨ 2íšŒ, 10íšŒì”©'
      },
      {
        name: 'í–„ìŠ¤íŠ¸ë§ ìŠ¤íŠ¸ë ˆì¹­',
        description: 'ì•‰ì•„ì„œ ë‹¤ë¦¬ ë’¤ìª½ ëŠ˜ë¦¬ê¸°',
        frequency: 'í•˜ë£¨ 2íšŒ, 30ì´ˆì”©'
      },
      {
        name: 'í—ˆë¦¬ ì‹ ì „',
        description: 'ì—ë“œë ¤ì„œ ìƒì²´ ë“¤ì–´ì˜¬ë¦¬ê¸° (Cobra)',
        frequency: 'ì£¼ 3íšŒ, 10íšŒ Ã— 2ì„¸íŠ¸'
      }
    ],
    swayback: [
      {
        name: 'ì „ì‹  ìì„¸ ì •ë ¬',
        description: 'ë²½ì— ë“±ì„ ëŒ€ê³  ì „ì‹  ì •ë ¬ ì—°ìŠµ',
        frequency: 'í•˜ë£¨ 2íšŒ, 1ë¶„ì”©'
      },
      {
        name: 'ì½”ì–´ ì•ˆì •í™”',
        description: 'í”Œë­í¬ì™€ ì‚¬ì´ë“œ í”Œë­í¬',
        frequency: 'ì£¼ 3íšŒ, 30ì´ˆ Ã— 3ì„¸íŠ¸'
      },
      {
        name: 'ì „ë¬¸ê°€ í‰ê°€',
        description: 'ë³µí•©ì  ë¬¸ì œë¡œ ê°œì¸ ë§ì¶¤ í”„ë¡œê·¸ë¨ í•„ìš”',
        frequency: 'Standard í”Œëœ ê¶Œì¥'
      }
    ],
    flat_back: [
      {
        name: 'ê³¨ë°˜ ê¸°ìš¸ì´ê¸°',
        description: 'ëˆ„ì›Œì„œ ê³¨ë°˜ì„ ì•ë’¤ë¡œ ê¸°ìš¸ì´ê¸°',
        frequency: 'í•˜ë£¨ 2íšŒ, 15íšŒì”©'
      },
      {
        name: 'í‰ì¶” ì‹ ì „',
        description: 'í¼ë¡¤ëŸ¬ë¡œ ë“± ìœ„ìª½ ì´ì™„',
        frequency: 'í•˜ë£¨ 1íšŒ, 2ë¶„'
      },
      {
        name: 'ì²™ì¶” ê°€ë™ì„± ìš´ë™',
        description: 'ê³ ì–‘ì´-ì†Œ ìì„¸ì™€ ë³€í˜• ë™ì‘',
        frequency: 'ì£¼ 4íšŒ, 10íšŒì”©'
      }
    ]
  };
  
  return exercises[postureType];
}

const SEVERITY_NAMES = {
  mild: 'ê²½ë¯¸í•œ ìƒíƒœ',
  moderate: 'ë³´í†µ ìƒíƒœ',
  severe: 'ê°œì„  í•„ìš” ìƒíƒœ'
};

const PLAN_NAMES = {
  basic: 'Basic í”Œëœ',
  standard: 'Standard í”Œëœ',
  premium: 'Premium í”Œëœ'
};

// PDF ìƒì„± í•¨ìˆ˜
export async function generatePDF(
  analysis: AnalysisResult,
  userInfo: { name: string; email: string; analyzedAt: Date }
): Promise<Buffer> {
  const doc = <PostureAnalysisReport analysis={analysis} userInfo={userInfo} />;
  const asPdf = pdf(doc);
  const blob = await asPdf.toBlob();
  const buffer = await blob.arrayBuffer();
  return Buffer.from(buffer);
}
```

---

## 5. ì´ë©”ì¼ ë°œì†¡ í”Œë¡œìš°

### 5.1 ì´ë©”ì¼ í…œí”Œë¦¿

```typescript
// lib/email-sender.ts

import { Resend } from 'resend';

const resend = new Resend(process.env.RESEND_API_KEY);

export async function sendAnalysisReport(
  userEmail: string,
  userName: string,
  pdfBuffer: Buffer,
  analysis: AnalysisResult
) {
  const emailHtml = `
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ìì„¸ ë¶„ì„ ë¦¬í¬íŠ¸</title>
</head>
<body style="margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f8fafc;">
  <!-- ì´ë©”ì¼ ì»¨í…Œì´ë„ˆ -->
  <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f8fafc; padding: 40px 20px;">
    <tr>
      <td align="center">
        <!-- ë©”ì¸ ì½˜í…ì¸  ë°•ìŠ¤ -->
        <table width="600" cellpadding="0" cellspacing="0" style="background-color: #ffffff; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
          
          <!-- í—¤ë” -->
          <tr>
            <td style="background: linear-gradient(135deg, #f97316 0%, #fb923c 100%); padding: 40px 30px; text-align: center;">
              <h1 style="margin: 0; color: #ffffff; font-size: 28px; font-weight: bold;">
                ğŸ‰ ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!
              </h1>
              <p style="margin: 10px 0 0; color: #ffffff; font-size: 16px; opacity: 0.95;">
                ${userName}ë‹˜ì˜ ë§ì¶¤ ìì„¸ ë¶„ì„ ë¦¬í¬íŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”
              </p>
            </td>
          </tr>
          
          <!-- ë³¸ë¬¸ -->
          <tr>
            <td style="padding: 40px 30px;">
              
              <!-- ì¸ì‚¬ë§ -->
              <p style="margin: 0 0 20px; color: #1e293b; font-size: 16px; line-height: 1.6;">
                ì•ˆë…•í•˜ì„¸ìš”, ${userName}ë‹˜!<br>
                í¬ìŠ¤ì²˜ë© ìì„¸ ë¶„ì„ ì„¤ë¬¸ì— ì°¸ì—¬í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.
              </p>
              
              <!-- ê²°ê³¼ ìš”ì•½ ë°•ìŠ¤ -->
              <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #fef3c7; border-radius: 12px; margin: 25px 0;">
                <tr>
                  <td style="padding: 20px;">
                    <h2 style="margin: 0 0 12px; color: #92400e; font-size: 18px; font-weight: bold;">
                      ğŸ“Š ë¶„ì„ ê²°ê³¼ ìš”ì•½
                    </h2>
                    <p style="margin: 0 0 8px; color: #78350f; font-size: 14px; line-height: 1.6;">
                      <strong>ì²´í˜• ìœ í˜•:</strong> ${POSTURE_TYPE_NAMES[analysis.postureType]}
                    </p>
                    <p style="margin: 0 0 8px; color: #78350f; font-size: 14px; line-height: 1.6;">
                      <strong>ì „ì²´ ìƒíƒœ:</strong> ${SEVERITY_NAMES[analysis.overallSeverity]}
                    </p>
                    <p style="margin: 0; color: #78350f; font-size: 14px; line-height: 1.6;">
                      <strong>ì¶”ì²œ í”Œëœ:</strong> ${PLAN_NAMES[analysis.recommendedPlan]}
                    </p>
                  </td>
                </tr>
              </table>
              
              <!-- ì£¼ìš” ë°œê²¬ì‚¬í•­ -->
              <h3 style="margin: 30px 0 15px; color: #0f172a; font-size: 18px; font-weight: bold;">
                ğŸ” ì£¼ìš” ë°œê²¬ì‚¬í•­
              </h3>
              <ul style="margin: 0 0 25px; padding-left: 20px; color: #334155; font-size: 14px; line-height: 1.8;">
                ${analysis.primaryIssues.map(issue => `
                  <li style="margin-bottom: 8px;">
                    <strong>[${issue.area}]</strong> ${issue.description}
                  </li>
                `).join('')}
              </ul>
              
              <!-- PDF ì²¨ë¶€ ì•ˆë‚´ -->
              <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f1f5f9; border-radius: 12px; margin: 25px 0;">
                <tr>
                  <td style="padding: 20px; text-align: center;">
                    <p style="margin: 0 0 12px; color: #475569; font-size: 14px;">
                      ğŸ“ <strong>ìƒì„¸ ë¦¬í¬íŠ¸ê°€ ì²¨ë¶€ë˜ì–´ ìˆìŠµë‹ˆë‹¤</strong>
                    </p>
                    <p style="margin: 0; color: #64748b; font-size: 12px; line-height: 1.6;">
                      5í˜ì´ì§€ ë¶„ëŸ‰ì˜ ë§ì¶¤ ë¶„ì„ ë¦¬í¬íŠ¸ì—ëŠ”<br>
                      í˜„ì¬ ìƒíƒœ, ë¦¬ìŠ¤í¬, ê°œì„  ë°©í–¥, ì¶”ì²œ ìš´ë™ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
                    </p>
                  </td>
                </tr>
              </table>
              
              <!-- CTA ë²„íŠ¼ -->
              <table width="100%" cellpadding="0" cellspacing="0" style="margin: 30px 0;">
                <tr>
                  <td align="center">
                    <table cellpadding="0" cellspacing="0">
                      <tr>
                        <td style="background: linear-gradient(135deg, #f97316 0%, #fb923c 100%); border-radius: 12px; padding: 16px 40px;">
                          <a href="https://posturelab.com/upgrade?email=${encodeURIComponent(userEmail)}" style="color: #ffffff; text-decoration: none; font-size: 16px; font-weight: bold; display: block;">
                            ğŸš€ ì§€ê¸ˆ ì—…ê·¸ë ˆì´ë“œí•˜ê³  20% í• ì¸ë°›ê¸°
                          </a>
                        </td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </table>
              
              <p style="margin: 25px 0 0; color: #64748b; font-size: 13px; line-height: 1.6; text-align: center;">
                ë¦¬í¬íŠ¸ ë°œì†¡ í›„ 7ì¼ ë‚´ ì—…ê·¸ë ˆì´ë“œ ì‹œ íŠ¹ë³„ í• ì¸ì´ ì ìš©ë©ë‹ˆë‹¤.
              </p>
              
            </td>
          </tr>
          
          <!-- í‘¸í„° -->
          <tr>
            <td style="background-color: #f8fafc; padding: 30px; border-top: 1px solid #e2e8f0;">
              <p style="margin: 0 0 10px; color: #64748b; font-size: 12px; text-align: center;">
                Â© 2026 í¬ìŠ¤ì²˜ë© | ìì„¸ ê°œì„  ìš´ë™ í”Œë«í¼
              </p>
              <p style="margin: 0 0 10px; color: #64748b; font-size: 12px; text-align: center;">
                <a href="https://posturelab.com/terms" style="color: #f97316; text-decoration: none;">ì´ìš©ì•½ê´€</a> | 
                <a href="https://posturelab.com/privacy" style="color: #f97316; text-decoration: none;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
              </p>
              <p style="margin: 0; color: #94a3b8; font-size: 11px; text-align: center; line-height: 1.6;">
                âš ï¸ ë³¸ ë¦¬í¬íŠ¸ëŠ” ìš´ë™ ê°€ì´ë“œ ì œê³µì„ ëª©ì ìœ¼ë¡œ í•˜ë©°, ì˜ë£Œ ì§„ë‹¨ì´ ì•„ë‹™ë‹ˆë‹¤.<br>
                í†µì¦ì´ë‚˜ ì§ˆë³‘ì´ ìˆëŠ” ê²½ìš° ë°˜ë“œì‹œ ì˜ë£Œ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì„¸ìš”.
              </p>
            </td>
          </tr>
          
        </table>
      </td>
    </tr>
  </table>
</body>
</html>
  `;
  
  try {
    const { data, error } = await resend.emails.send({
      from: 'í¬ìŠ¤ì²˜ë© <noreply@posturelab.com>',
      to: [userEmail],
      subject: `${userName}ë‹˜ì˜ ìì„¸ ë¶„ì„ ë¦¬í¬íŠ¸ê°€ ë„ì°©í–ˆìŠµë‹ˆë‹¤ ğŸ¯`,
      html: emailHtml,
      attachments: [
        {
          filename: `ìì„¸ë¶„ì„ë¦¬í¬íŠ¸_${userName}_${new Date().toISOString().split('T')[0]}.pdf`,
          content: pdfBuffer
        }
      ]
    });
    
    if (error) {
      throw new Error(`ì´ë©”ì¼ ë°œì†¡ ì‹¤íŒ¨: ${error.message}`);
    }
    
    return { success: true, emailId: data?.id };
  } catch (error) {
    console.error('ì´ë©”ì¼ ë°œì†¡ ì—ëŸ¬:', error);
    throw error;
  }
}
```

### 5.2 ì „ì²´ í”Œë¡œìš° í†µí•© API

```typescript
// app/api/survey/submit/route.ts

import { NextRequest, NextResponse } from 'next/server';
import { analyzeSurveyResults } from '@/lib/survey-analyzer';
import { generatePDF } from '@/lib/pdf-generator';
import { sendAnalysisReport } from '@/lib/email-sender';
import { getServerSupabase } from '@/lib/supabase';

export async function POST(req: NextRequest) {
  try {
    const { userId, responses } = await req.json();
    
    const supabase = getServerSupabase();
    
    // 1. ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
    const { data: user } = await supabase
      .from('users')
      .select('*, user_profiles(*)')
      .eq('id', userId)
      .single();
    
    if (!user) {
      return NextResponse.json({ error: 'User not found' }, { status: 404 });
    }
    
    // 2. ì„¤ë¬¸ ê²°ê³¼ ë¶„ì„
    const analysis = analyzeSurveyResults(responses);
    
    // 3. PDF ìƒì„±
    const pdfBuffer = await generatePDF(analysis, {
      name: user.user_profiles?.full_name || user.email.split('@')[0],
      email: user.email,
      analyzedAt: new Date()
    });
    
    // 4. PDFë¥¼ Supabase Storageì— ì €ì¥ (24ì‹œê°„ í›„ ìë™ ì‚­ì œ)
    const fileName = `reports/${userId}/${Date.now()}.pdf`;
    const { data: uploadData, error: uploadError } = await supabase.storage
      .from('documents')
      .upload(fileName, pdfBuffer, {
        contentType: 'application/pdf',
        upsert: false
      });
    
    if (uploadError) {
      throw new Error(`PDF ì €ì¥ ì‹¤íŒ¨: ${uploadError.message}`);
    }
    
    // 5. assessment ë ˆì½”ë“œ ìƒì„±
    const { data: assessment } = await supabase
      .from('assessments')
      .insert({
        user_id: userId,
        assessment_type: 'initial',
        diagnoses: analysis.scores,
        status: 'completed',
        completed_at: new Date().toISOString()
      })
      .select()
      .single();
    
    // 6. feedback ë ˆì½”ë“œ ìƒì„± (PDF)
    await supabase
      .from('feedbacks')
      .insert({
        assessment_id: assessment.id,
        user_id: userId,
        trainer_id: null,  // ìë™ ìƒì„±ì´ë¯€ë¡œ null
        feedback_type: 'pdf',
        pdf_url: fileName,
        notes: `ìë™ ìƒì„±ëœ ë¦¬í¬íŠ¸ - ${POSTURE_TYPE_NAMES[analysis.postureType]}`
      });
    
    // 7. ì´ë©”ì¼ ë°œì†¡
    await sendAnalysisReport(
      user.email,
      user.user_profiles?.full_name || user.email.split('@')[0],
      pdfBuffer,
      analysis
    );
    
    // 8. ì•Œë¦¼ ìƒì„±
    await supabase
      .from('notifications')
      .insert({
        user_id: userId,
        type: 'feedback_ready',
        title: 'ìì„¸ ë¶„ì„ ë¦¬í¬íŠ¸ê°€ ë„ì°©í–ˆìŠµë‹ˆë‹¤',
        message: `${POSTURE_TYPE_NAMES[analysis.postureType]} ìœ í˜•ìœ¼ë¡œ ë¶„ì„ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë©”ì¼ì„ í™•ì¸í•˜ì„¸ìš”.`,
        action_url: `/my-report`,
        sent_via_email: true
      });
    
    return NextResponse.json({
      success: true,
      analysis: {
        postureType: analysis.postureType,
        severity: analysis.overallSeverity,
        recommendedPlan: analysis.recommendedPlan
      },
      pdfUrl: fileName,
      message: 'ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.'
    });
    
  } catch (error: any) {
    console.error('ì„¤ë¬¸ ì œì¶œ ì—ëŸ¬:', error);
    return NextResponse.json({
      error: 'ì„¤ë¬¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.',
      details: error.message
    }, { status: 500 });
  }
}
```

---

## 6. êµ¬í˜„ ì½”ë“œ

### 6.1 í”„ë¡ íŠ¸ì—”ë“œ ì„¤ë¬¸ í¼

```typescript
// app/survey/page.tsx

'use client';

import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { SURVEY_QUESTIONS } from '@/data/survey-questions';

export default function SurveyPage() {
  const router = useRouter();
  const [currentStep, setCurrentStep] = useState(0);
  const [responses, setResponses] = useState<Record<string, string | string[]>>({});
  const [isSubmitting, setIsSubmitting] = useState(false);
  
  const currentQuestion = SURVEY_QUESTIONS[currentStep];
  const progress = ((currentStep + 1) / SURVEY_QUESTIONS.length) * 100;
  
  const handleAnswer = (value: string | string[]) => {
    setResponses(prev => ({
      ...prev,
      [currentQuestion.id]: value
    }));
  };
  
  const handleNext = () => {
    if (currentStep < SURVEY_QUESTIONS.length - 1) {
      setCurrentStep(prev => prev + 1);
    } else {
      handleSubmit();
    }
  };
  
  const handleBack = () => {
    if (currentStep > 0) {
      setCurrentStep(prev => prev - 1);
    }
  };
  
  const handleSubmit = async () => {
    setIsSubmitting(true);
    
    try {
      const userId = localStorage.getItem('userId'); // ë˜ëŠ” contextì—ì„œ ê°€ì ¸ì˜¤ê¸°
      
      const response = await fetch('/api/survey/submit', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ userId, responses })
      });
      
      const data = await response.json();
      
      if (data.success) {
        router.push(`/survey/result?type=${data.analysis.postureType}`);
      } else {
        alert('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
      }
    } catch (error) {
      console.error('ì œì¶œ ì—ëŸ¬:', error);
      alert('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
    } finally {
      setIsSubmitting(false);
    }
  };
  
  const isAnswered = !!responses[currentQuestion.id];
  
  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 px-4 py-8">
      <div className="mx-auto max-w-3xl">
        {/* ì§„í–‰ ë°” */}
        <div className="mb-8">
          <div className="mb-2 flex justify-between text-sm text-slate-400">
            <span>ì§ˆë¬¸ {currentStep + 1} / {SURVEY_QUESTIONS.length}</span>
            <span>{Math.round(progress)}% ì™„ë£Œ</span>
          </div>
          <div className="h-2 overflow-hidden rounded-full bg-slate-700">
            <div
              className="h-full bg-gradient-to-r from-orange-500 to-amber-500 transition-all duration-300"
              style={{ width: `${progress}%` }}
            />
          </div>
        </div>
        
        {/* ì§ˆë¬¸ ì¹´ë“œ */}
        <div className="rounded-2xl border border-slate-700 bg-slate-800/50 p-8 shadow-2xl backdrop-blur-sm">
          {/* ì¹´í…Œê³ ë¦¬ ë°°ì§€ */}
          <div className="mb-4">
            <span className="rounded-full bg-orange-500/20 px-3 py-1 text-xs font-medium text-orange-400">
              {currentQuestion.category === 'posture' && 'ìì„¸ ê´€ì°°'}
              {currentQuestion.category === 'pain' && 'ë¶ˆí¸í•¨/í†µì¦'}
              {currentQuestion.category === 'lifestyle' && 'ìƒí™œ ìŠµê´€'}
              {currentQuestion.category === 'goal' && 'ëª©í‘œ'}
            </span>
          </div>
          
          {/* ì§ˆë¬¸ */}
          <h2 className="mb-2 text-2xl font-bold text-slate-100">
            {currentQuestion.question}
          </h2>
          
          {currentQuestion.description && (
            <p className="mb-6 text-sm text-slate-400">
              {currentQuestion.description}
            </p>
          )}
          
          {/* ë‹µë³€ ì˜µì…˜ */}
          <div className="space-y-3">
            {currentQuestion.type === 'single' || currentQuestion.type === 'scale' || currentQuestion.type === 'boolean' ? (
              // ë‹¨ì¼ ì„ íƒ
              currentQuestion.options.map(option => (
                <button
                  key={option.id}
                  onClick={() => handleAnswer(option.id)}
                  className={`w-full rounded-xl border-2 p-4 text-left transition ${
                    responses[currentQuestion.id] === option.id
                      ? 'border-orange-500 bg-orange-500/10 text-slate-100'
                      : 'border-slate-700 bg-slate-900/50 text-slate-300 hover:border-slate-600'
                  }`}
                >
                  <div className="flex items-center gap-3">
                    <div className={`h-5 w-5 rounded-full border-2 flex items-center justify-center ${
                      responses[currentQuestion.id] === option.id
                        ? 'border-orange-500 bg-orange-500'
                        : 'border-slate-600'
                    }`}>
                      {responses[currentQuestion.id] === option.id && (
                        <div className="h-2 w-2 rounded-full bg-white" />
                      )}
                    </div>
                    <span className="flex-1">{option.label}</span>
                  </div>
                </button>
              ))
            ) : (
              // ë³µìˆ˜ ì„ íƒ
              currentQuestion.options.map(option => {
                const selected = (responses[currentQuestion.id] as string[] || []).includes(option.id);
                
                return (
                  <button
                    key={option.id}
                    onClick={() => {
                      const current = (responses[currentQuestion.id] as string[]) || [];
                      if (selected) {
                        handleAnswer(current.filter(id => id !== option.id));
                      } else {
                        handleAnswer([...current, option.id]);
                      }
                    }}
                    className={`w-full rounded-xl border-2 p-4 text-left transition ${
                      selected
                        ? 'border-orange-500 bg-orange-500/10 text-slate-100'
                        : 'border-slate-700 bg-slate-900/50 text-slate-300 hover:border-slate-600'
                    }`}
                  >
                    <div className="flex items-center gap-3">
                      <div className={`h-5 w-5 rounded border-2 flex items-center justify-center ${
                        selected
                          ? 'border-orange-500 bg-orange-500'
                          : 'border-slate-600'
                      }`}>
                        {selected && (
                          <svg className="h-3 w-3 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={3} d="M5 13l4 4L19 7" />
                          </svg>
                        )}
                      </div>
                      <span className="flex-1">{option.label}</span>
                    </div>
                  </button>
                );
              })
            )}
          </div>
          
          {/* ë²„íŠ¼ */}
          <div className="mt-8 flex gap-3">
            {currentStep > 0 && (
              <button
                onClick={handleBack}
                className="rounded-full border-2 border-slate-700 px-6 py-3 font-medium text-slate-300 transition hover:border-slate-600 hover:bg-slate-900/50"
              >
                â† ì´ì „
              </button>
            )}
            
            <button
              onClick={handleNext}
              disabled={!isAnswered || isSubmitting}
              className="flex-1 rounded-full bg-gradient-to-r from-orange-500 to-amber-500 px-8 py-3 font-bold text-white shadow-lg transition hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-50"
            >
              {isSubmitting ? (
                <span className="flex items-center justify-center gap-2">
                  <svg className="h-5 w-5 animate-spin" viewBox="0 0 24 24">
                    <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" fill="none" />
                    <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" />
                  </svg>
                  ë¶„ì„ ì¤‘...
                </span>
              ) : currentStep === SURVEY_QUESTIONS.length - 1 ? (
                'ê²°ê³¼ í™•ì¸ â†’'
              ) : (
                'ë‹¤ìŒ â†’'
              )}
            </button>
          </div>
        </div>
      </div>
    </div>
  );
}
```

---

## 7. ë°°í¬ ë° ëª¨ë‹ˆí„°ë§

### 7.1 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```.env.local
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ì´ë©”ì¼ (Resend)
RESEND_API_KEY=re_xxxxxxxxxxxxx

# PDF ìƒì„±
# (ì¶”ê°€ ì„¤ì • ë¶ˆí•„ìš” - @react-pdf/renderer ì‚¬ìš©)

# Base URL
NEXT_PUBLIC_BASE_URL=https://posturelab.com
```

### 7.2 Vercel ì„¤ì •

```json
// vercel.json
{
  "functions": {
    "app/api/survey/submit/route.ts": {
      "memory": 1024,
      "maxDuration": 30
    }
  },
  "crons": [
    {
      "path": "/api/cron/cleanup-pdfs",
      "schedule": "0 */6 * * *"
    }
  ]
}
```

---

## ğŸ“Š ì˜ˆìƒ ì„±ëŠ¥

| ì§€í‘œ | ëª©í‘œ | ì‹¤ì œ ì˜ˆìƒ |
|------|------|----------|
| ì„¤ë¬¸ ì™„ë£Œìœ¨ | 70%+ | 75-80% |
| PDF ìƒì„± ì‹œê°„ | <5ì´ˆ | 2-4ì´ˆ |
| ì´ë©”ì¼ ë°œì†¡ ì‹œê°„ | <10ì´ˆ | 5-8ì´ˆ |
| ì „ì²´ ì²˜ë¦¬ ì‹œê°„ | <15ì´ˆ | 10-12ì´ˆ |
| PDF íŒŒì¼ í¬ê¸° | <3MB | 1-2MB |

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. **MVP êµ¬í˜„** (1ì£¼)
   - ì„¤ë¬¸ í¼ UI
   - ë¶„ì„ ë¡œì§
   - PDF ìƒì„± (ê¸°ë³¸ í…œí”Œë¦¿)

2. **í…ŒìŠ¤íŠ¸ ë° ê°œì„ ** (1ì£¼)
   - ì‹¤ì œ ì‚¬ìš©ì í…ŒìŠ¤íŠ¸
   - PDF ë””ìì¸ ê°œì„ 
   - ì´ë©”ì¼ í…œí”Œë¦¿ ìµœì í™”

3. **ìš´ì˜ ëª¨ë‹ˆí„°ë§** (ì§€ì†)
   - ì „í™˜ìœ¨ ì¶”ì 
   - ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘
   - A/B í…ŒìŠ¤íŠ¸

---

**ì‘ì„± ì™„ë£Œ!** ğŸ‰


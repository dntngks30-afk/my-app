# 🧪 법적 준수 기능 테스트 가이드

**작성일:** 2026년 1월 29일  
**테스트 대상:** 사전 동의 팝업 및 면책 배너  

---

## 📋 테스트 체크리스트

### 1️⃣ 면책 배너 테스트

#### 시나리오 1: 배너 표시
- [ ] 페이지 로드 시 최상단에 배너가 표시되는가?
- [ ] 배너가 sticky(고정) 되어 스크롤 시에도 보이는가?
- [ ] 배너 텍스트가 명확하게 읽히는가?
  - "ℹ️ 중요: 본 서비스는 의료행위가 아닙니다. 통증이나 질병이 있는 경우 전문 의료기관을 방문하세요."

#### 시나리오 2: 배너 닫기
- [ ] X 버튼 클릭 시 배너가 사라지는가?
- [ ] 배너가 사라진 후 메인 컨텐츠가 자연스럽게 차지하는가?

---

### 2️⃣ 사전 동의 팝업 테스트

#### 시나리오 1: 최초 방문자
1. **브라우저 캐시 및 localStorage 초기화**
   ```javascript
   // 개발자 도구 Console에서 실행
   localStorage.clear();
   location.reload();
   ```

2. **정면 사진 업로드 버튼 클릭**
   - [ ] 사전 동의 팝업이 즉시 열리는가?
   - [ ] 파일 선택창이 뜨지 않는가?

3. **팝업 내용 확인**
   - [ ] 헤더에 "⚠️ 서비스 이용 전 필독 사항" 표시
   - [ ] 법적 고지사항 박스 표시 (빨간색)
   - [ ] 5개 체크박스 모두 표시
   - [ ] 모든 체크박스가 초기에는 체크 해제 상태

4. **체크박스 항목 확인**
   - [ ] 항목 1: "의료행위가 아님을 이해했습니다"
   - [ ] 항목 2: "통증 있으면 의료 전문가 상담"
   - [ ] 항목 3: "부상 책임은 본인에게 있음"
   - [ ] 항목 4: "운동 가이드는 참고 자료"
   - [ ] 항목 5: "운동 효과 보장하지 않음"

#### 시나리오 2: 불완전한 동의
1. **일부만 체크**
   - [ ] 5개 중 1~4개만 체크
   - [ ] "모두 동의하고 계속하기" 버튼이 비활성화 상태인가?
   - [ ] 버튼 클릭 시 "모든 항목에 동의해주셔야..." 알림 표시

2. **취소 버튼 클릭**
   - [ ] 팝업이 닫히는가?
   - [ ] 파일 업로드가 진행되지 않는가?

#### 시나리오 3: 완전한 동의
1. **5개 모두 체크**
   - [ ] "모두 동의하고 계속하기" 버튼이 활성화되는가?
   - [ ] 버튼이 주황색 그라데이션으로 강조되는가?

2. **"모두 동의하고 계속하기" 클릭**
   - [ ] 동의 팝업이 닫히는가?
   - [ ] 촬영 가이드 팝업이 열리는가?
   - [ ] localStorage에 저장되는가?
     ```javascript
     // 개발자 도구 Console에서 확인
     localStorage.getItem("service_consent_agreed"); // "true"
     localStorage.getItem("service_consent_date"); // ISO 날짜
     ```

#### 시나리오 4: 재방문자
1. **페이지 새로고침**
   - [ ] 동의 팝업이 다시 뜨지 않는가?
   - [ ] 사진 업로드 버튼 클릭 시 바로 촬영 가이드 팝업이 열리는가?

---

### 3️⃣ 모바일 반응형 테스트

#### 화면 크기별 테스트
- [ ] **데스크톱 (1920x1080):** 배너와 팝업이 정상 표시
- [ ] **태블릿 (768x1024):** 배너 텍스트 줄바꿈 자연스러움
- [ ] **모바일 (375x667):** 팝업이 화면에 맞게 스크롤 가능

#### 터치 인터페이스
- [ ] 체크박스를 손가락으로 터치하기 쉬운가?
- [ ] 버튼이 충분히 큰가? (최소 44x44px)

---

### 4️⃣ 접근성 (a11y) 테스트

#### 키보드 네비게이션
- [ ] Tab 키로 체크박스 간 이동 가능
- [ ] Space 키로 체크박스 선택/해제 가능
- [ ] Enter 키로 버튼 클릭 가능

#### 스크린 리더
- [ ] 팝업이 `role="dialog"` 속성을 가지는가?
- [ ] `aria-modal="true"` 속성이 있는가?
- [ ] 체크박스 라벨이 명확하게 읽히는가?

---

### 5️⃣ 브라우저 호환성 테스트

| 브라우저 | 버전 | 배너 | 팝업 | localStorage |
|---------|------|------|------|-------------|
| Chrome | 최신 | [ ] | [ ] | [ ] |
| Firefox | 최신 | [ ] | [ ] | [ ] |
| Safari | 최신 | [ ] | [ ] | [ ] |
| Edge | 최신 | [ ] | [ ] | [ ] |

---

## 🐛 알려진 이슈 및 해결 방법

### 이슈 1: 팝업이 뒤로 숨김
**원인:** z-index 충돌  
**해결:** 팝업 z-index를 50으로 설정 (현재 적용됨)

### 이슈 2: localStorage가 작동하지 않음
**원인:** 프라이빗 브라우징 모드  
**해결:** 일반 모드로 테스트, 쿠키 사용 고려

---

## 📊 성능 테스트

### 로딩 시간
- [ ] 페이지 로드 후 배너가 즉시 표시되는가? (< 100ms)
- [ ] 팝업 열기/닫기가 부드러운가? (< 300ms)

### 메모리 사용
- [ ] 팝업을 여러 번 열고 닫아도 메모리 누수가 없는가?

---

## ✅ 최종 승인 체크리스트

프로덕션 배포 전 다음 항목을 모두 확인하세요:

- [ ] 모든 시나리오 테스트 통과
- [ ] 모바일 반응형 확인
- [ ] 접근성 기준 충족
- [ ] 3개 이상 브라우저에서 테스트
- [ ] 법무팀 최종 검토 완료
- [ ] 이용약관 링크가 올바르게 작동
- [ ] localStorage 저장/불러오기 정상 작동

---

## 📞 문제 발생 시

**기술 지원:** dev@posturelab.com  
**법률 검토:** legal@posturelab.com  

---

**테스트 완료일:** _______________  
**테스터 이름:** _______________  
**승인 여부:** [ ] 승인 / [ ] 재검토 필요

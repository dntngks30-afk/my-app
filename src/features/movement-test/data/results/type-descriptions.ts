/**
 * 움직임 타입 테스트 - 타입 설명 데이터
 * 
 * 16가지 서브타입별 상세 설명, 특징, 운동 가이드
 * 
 * 메인 타입:
 * - D (담직형): 뻣뻣함, 전신 둔화
 * - N (날림형): 불안정함, 관절 흐름
 * - B (버팀형): 특정 부위 통증, 과로
 * - H (흘림형): 효율 저하, 힘 누수
 * 
 * 변경 이력:
 * - 2026-02-04: 브랜딩 테이블 분리 (SDD 리팩토링)
 *   - mainTypeName, subTypeName을 브랜딩 테이블로 분리
 *   - 동물 MBTI 전환 시 브랜딩 테이블만 수정하면 전체 UI 변경 가능
 */

// ============================================
// 타입 정의
// ============================================

export type MainTypeCode = "D" | "N" | "B" | "H";

export type SubTypeKey =
  | "D_UPPER_LOCK"
  | "D_LOWER_LOCK"
  | "D_BREATH_LOCK"
  | "D_SYSTEM_SLOW"
  | "N_JOINT_FLOW"
  | "N_CORE_DRIFT"
  | "N_LR_IMBAL"
  | "N_SPEED_OVER"
  | "B_LOWBACK_RELY"
  | "B_NECK_SHOULDER_OVER"
  | "B_KNEE_FOCUS"
  | "B_SINGLE_DOM"
  | "H_POWER_LEAK"
  | "H_CHAIN_BREAK"
  | "H_ASYM_TRANSFER"
  | "H_EFFICIENCY_LOW";

// ============================================
// 브랜딩 테이블 (SDD: 표시용 이름 분리)
// ============================================
// 목적: 동물 MBTI 등으로 브랜딩 변경 시 이 테이블만 수정하면 전체 UI 변경
// - mainTypeName: 메인 타입 표시명 (예: "담직형" → 나중에 "곰" 등으로 변경 가능)
// - subTypeName: 서브타입 표시명 (예: "상체고착형" → 나중에 "곰-상체고착형" 등으로 변경 가능)
// - animal: 동물명 (현재 TBD, 나중에 채워짐)

interface BrandingInfo {
  name: string; // 표시용 이름
  animal: string; // 동물명 (TBD)
}

export const BRANDING_TABLE = {
  mainTypes: {
    D: { name: "담직형", animal: "TBD" },
    N: { name: "날림형", animal: "TBD" },
    B: { name: "버팀형", animal: "TBD" },
    H: { name: "흘림형", animal: "TBD" },
  } as Record<MainTypeCode, BrandingInfo>,
  
  subTypes: {
    D_UPPER_LOCK: { name: "상체고착형", animal: "TBD" },
    D_LOWER_LOCK: { name: "하체고착형", animal: "TBD" },
    D_BREATH_LOCK: { name: "호흡잠김형", animal: "TBD" },
    D_SYSTEM_SLOW: { name: "전신둔화형", animal: "TBD" },
    N_JOINT_FLOW: { name: "관절흐름형", animal: "TBD" },
    N_CORE_DRIFT: { name: "중심이탈형", animal: "TBD" },
    N_LR_IMBAL: { name: "좌우불균형형", animal: "TBD" },
    N_SPEED_OVER: { name: "동작과속형", animal: "TBD" },
    B_LOWBACK_RELY: { name: "허리의존형", animal: "TBD" },
    B_NECK_SHOULDER_OVER: { name: "목어깨과로형", animal: "TBD" },
    B_KNEE_FOCUS: { name: "무릎집중형", animal: "TBD" },
    B_SINGLE_DOM: { name: "단측지배형", animal: "TBD" },
    H_POWER_LEAK: { name: "힘누수형", animal: "TBD" },
    H_CHAIN_BREAK: { name: "체인단절형", animal: "TBD" },
    H_ASYM_TRANSFER: { name: "비대칭전달형", animal: "TBD" },
    H_EFFICIENCY_LOW: { name: "효율저하형", animal: "TBD" },
  } as Record<SubTypeKey, BrandingInfo>,
} as const;

// ============================================
// 서브타입 콘텐츠 인터페이스
// ============================================
// 주의: mainTypeName, subTypeName은 브랜딩 테이블에서 동적으로 가져옴
//       하위 호환성을 위해 getSubTypeContent()에서 자동으로 추가됨

export interface SubTypeContentRaw {
  key: SubTypeKey;
  mainType: MainTypeCode;
  // mainTypeName, subTypeName 제거됨 (브랜딩 테이블로 분리)
  headline: string; // 한 줄 소개
  summary: string; // 2~3문장 요약
  signs: string[]; // 자주 보이는 특징
  commonMisunderstanding: string; // 흔한 오해
  realCause: string; // 실제 원인(설득용)
  firstFocus: string[]; // ㅊ 잡을 것(우선순위)
  avoid: string[]; // 당분간 피하면 좋은 것
  quickWin: string; // 바로 체감되는 작은 변화(전환율)
}

// 하위 호환성을 위한 확장 인터페이스 (브랜딩 정보 포함)
export interface SubTypeContent extends SubTypeContentRaw {
  mainTypeName: string; // 브랜딩 테이블에서 자동 추가
  subTypeName: string; // 브랜딩 테이블에서 자동 추가
}

// ============================================
// 서브타입 상세 설명 데이터 (브랜딩 정보 제외)
// ============================================

const SUBTYPE_CONTENT_RAW: Record<SubTypeKey, SubTypeContentRaw> = {
// ─────────────────────────
// 담직형 (D)
// ─────────────────────────

D_UPPER_LOCK: {
  key: "D_UPPER_LOCK",
  mainType: "D",
  headline: "어깨, 등, 목이 먼저 굳어 움직임이 위에서 막히는 타입이에요.",
  summary:
    "상체가 단단히 고정된 상태로 생활하는 시간이 길어서, 팔을 쓰거나 운동을 시작하면 목, 어깨가 대신 일을 떠안기 쉬워요. 힘이 부족해서라기보다 '움직일 여지'가 부족해 효율이 떨어집니다.",
  signs: [
    "팔을 들면 어깨가 먼저 뻐근해짐",
    "가슴, 등이 잘 안 펴지는 느낌",
    "상체 스트레칭 효과가 짧음",
    "호흡이 얕고 어깨로 숨 쉬는 편",
    "운동하면 승모근이 빨리 지침"
  ],
  commonMisunderstanding: "'어깨가 약해서 아픈 거예요.'",
  realCause:
    "상체가 오래 고정되어 견갑, 흉곽 움직임이 줄어들고, 그 결과 목, 어깨가 과로하는 패턴이 만들어졌을 가능성이 큽니다.",
  firstFocus: [
    "숨부터 편하게: 3~5번 길게 내쉬며 어깨 힘 빼기 (긴장 스위치 끄기)",
    "가슴·등(흉곽) 열기: 갈비뼈가 움직이게 만들기 (팔 들 공간 만들기)",
    "날개뼈 위치 찾기: 어깨를 ‘뒤·아래’로 가볍게 정렬 (목·승모 과로 줄이기)"
  ],
  avoid: [
    "초반부터 무거운 숄더프레스/업라이트로우 과하게 (굳은 상체를 더 굳힐 수 있음)",
    "아픈 곳만 세게 누르는 마사지에만 의존 (원인인 ‘움직임 부족’은 그대로)",
    "어깨를 으쓱한 채 ‘버티는’ 자세로 운동 (목·승모가 계속 대신 일함)"
  ],
  quickWin:
    "호흡+흉곽 확장 연습만으로도 팔 들 때 목 개입이 줄어드는 걸 바로 느끼는 경우가 많아요."
},

D_LOWER_LOCK: {
  key: "D_LOWER_LOCK",
  mainType: "D",
  headline: "골반, 엉덩이가 잘 안 풀려 하체 움직임이 답답한 타입이에요.",
  summary:
    "앉아 있는 시간이 길거나, 골반 주변이 굳어 있는 상태가 오래 지속되면 하체는 '힘을 쓰기' 전에 '움직일 수 있는 상태'부터 만들어야 해요. 스쿼트나 런지에서 깊이가 안 나오는 느낌이 대표적입니다.",
  signs: [
    "오래 앉았다 일어나면 골반이 뻣뻣함",
    "스쿼트가 깊게 안 내려감",
    "엉덩이보다 허벅지 앞이 먼저 타는 느낌",
    "고관절이 뻑뻑하거나 당김",
    "하체 운동 전 워밍업이 길어야 편함"
  ],
  commonMisunderstanding: "'하체가 약해서 못 내려가는 거예요.'",
  realCause:
    "약해서가 아니라 고관절, 골반 가동성이 제한돼서, 안전하게 내려갈 '공간'이 부족한 경우가 많습니다.",
  firstFocus: [
    "고관절 ‘공간’ 만들기: 접기/돌리기 동작을 가볍게 열기 (스쿼트 깊이의 기반)",
    "엉덩이 먼저 켜기: 브릿지/힙힌지로 엉덩이 감각 찾기 (허벅지 앞 과로 줄이기)",
    "발-무릎-골반 일직선: 내려갈 때 무릎이 흔들리지 않게 (안전한 정렬 만들기)"
  ],
  avoid: [
    "통증을 참고 억지로 깊게 내려가기 (허리·무릎이 대신 부담)",
    "발을 과하게 벌리거나 무릎을 모으는 자세 고집 (보상 패턴 고착)",
    "허리로 깊이를 만드는 습관 (골반이 말리거나 꺾여 부담 증가)"
  ],
  quickWin:
    "고관절 가동성 루틴 후 스쿼트 깊이가 '조금 더 부드럽게' 늘어나는 체감이 빠른 편이에요."
},

D_BREATH_LOCK: {
  key: "D_BREATH_LOCK",
  mainType: "D",
  headline: "숨은 쉬지만, 몸이 함께 움직이지 않아 긴장이 쌓이는 타입이에요.",
  summary:
    "호흡이 얕거나 숨을 참는 습관이 있으면 몸은 쉽게 긴장 모드로 들어가요. 그러면 풀고 싶어도 잘 안 풀리고, 자세는 더 굳어지기 쉽습니다.",
  signs: [
    "집중할 때 숨을 참는 편",
    "가슴, 어깨만 들썩이는 호흡",
    "스트레스 받으면 목, 가슴이 먼저 굳음",
    "운동 중 '호흡 타이밍'이 어려움",
    "스트레칭해도 개운함이 짧음"
  ],
  commonMisunderstanding: "'난 원래 예민하고 긴장이 많은 성격이라 그래요.'",
  realCause:
    "성격보다 호흡 패턴이 먼저 몸을 잠그는 경우가 많아요. 호흡이 바뀌면 긴장도 함께 내려갑니다.",
  firstFocus: [
    "긴 날숨 연습: 4초 들이마시고 6~8초 내쉬기 (긴장 낮추는 가장 빠른 방법)",
    "어깨 말고 ‘몸통 호흡’: 갈비뼈·배가 같이 움직이게 (몸이 굳는 느낌 완화)",
    "동작에 호흡 붙이기: 힘줄 때 숨 막지 않고 내쉬며 버티기 (운동 중 잠김 방지)"
  ],
  avoid: [
    "숨 참은 채 고중량 반복 (목·허리 부담 + 긴장 고정)",
    "배에 힘만 과하게 주고 호흡을 막기 (복압이 아니라 ‘잠금’이 됨)",
    "스트레칭만으로 해결하려 하기 (호흡이 그대로면 다시 굳음)"
  ],
  quickWin:
    "호흡만 정리해도 '목이 덜 힘든 느낌'이 빨리 나타나는 타입이에요."
},

D_SYSTEM_SLOW: {
  key: "D_SYSTEM_SLOW",
  mainType: "D",
  headline: "몸 전체 반응이 느려 워밍업이 길게 필요한 타입이에요.",
  summary:
    "아침에 몸이 무겁고, 움직임이 '한 템포 느리게' 시작되는 편이에요. 체력 문제가 아니라 신경, 순환 반응이 천천히 올라오는 경우가 많습니다.",
  signs: [
    "아침에 몸이 무겁고 잘 안 풀림",
    "워밍업을 오래 해야 컨디션이 올라옴",
    "운동 초반 동작이 둔하게 느껴짐",
    "회복이 느린 편",
    "가만히 있으면 더 굳는 느낌"
  ],
  commonMisunderstanding: "'체력이 약해서 그래요.'",
  realCause:
    "체력보다 '반응 속도(활성화)'가 늦은 경우가 많고, 작은 자극을 단계적으로 쌓으면 좋아집니다.",
  firstFocus: [
    "작게 시작하기: 발목→고관절→흉곽 순서로 가볍게 풀기 (몸 반응 올리기)",
    "리듬 넣기: 걷기/제자리 스텝 + 호흡 (순환·신경을 빠르게 깨움)",
    "준비 루틴 고정: 강도보다 워밍업 순서를 먼저 최적화 (초반 둔함 줄이기)"
  ],
  avoid: [
    "몸이 안 깬 상태에서 바로 고강도 (부상·통증 확률 상승)",
    "운동 볼륨을 한 번에 크게 늘리기 (회복이 못 따라감)",
    "뻐근한데도 참고 밀어붙이기 (굳음이 더 쌓임)"
  ],
  quickWin:
    "워밍업 순서만 바꿔도 '운동 느낌이 빨리 올라오는' 변화를 쉽게 체감해요."
},

// ─────────────────────────
// 날림형 (N)
// ─────────────────────────

N_JOINT_FLOW: {
  key: "N_JOINT_FLOW",
  mainType: "N",
  headline: "유연하지만 관절이 너무 자유로워 안정이 먼저 필요한 타입이에요.",
  summary:
    "잘 늘어나고 동작도 잘 따라오지만, 관절이 쉽게 '흐르듯' 움직여 중심이 잡히기 어렵습니다. 그래서 통증이 특정 부위에 고정되기보다 여기저기로 이동하는 느낌이 생기기도 해요.",
  signs: [
    "관절 소리가 자주 남",
    "스트레칭은 쉬운데 힘이 모이지 않음",
    "자세 유지가 오래 안 됨",
    "가벼운 통증이 이동하는 편",
    "운동할수록 흔들림이 커짐"
  ],
  commonMisunderstanding: "'난 유연하니까 교정이 필요 없어요.'",
  realCause:
    "유연성은 충분한데 '잡아줄 힘(안정성)'이 부족하면 오히려 불편이 반복될 수 있어요.",
  firstFocus: [
    "늘리기보다 ‘잡기’: 끝까지 보내지 말고 중간 범위에서 멈추기 (흔들림 줄이기)",
    "코어-골반 안정: 숨 쉬면서 배·골반을 단단히 (중심 만들기)",
    "느리게 + 정지 1초: 동작 중간에 멈춰 정렬 확인 (컨트롤 향상)"
  ],
  avoid: [
    "과한 스트레칭으로 범위만 더 키우기 (불안정이 커질 수 있음)",
    "반동/속도로 버티는 운동 (관절이 더 흐름)",
    "통증 부위를 무작정 늘리기 (원인인 안정성 부족은 그대로)"
  ],
  quickWin:
    "동작 속도를 줄이고 '정렬 유지'만 해도 흔들림이 바로 줄어드는 걸 느끼는 편이에요."
},

N_CORE_DRIFT: {
  key: "N_CORE_DRIFT",
  mainType: "N",
  headline: "움직이면 중심이 먼저 무너져 균형이 흔들리는 타입이에요.",
  summary:
    "스쿼트, 런지처럼 하체를 쓰는 동작에서 몸통이 흔들리거나, 힘이 한쪽으로 몰리는 느낌이 자주 나요. '힘이 없어서'라기보다 '중심을 잡는 방식'이 아직 정리되지 않은 경우가 많습니다.",
  signs: [
    "스쿼트에서 흔들림이 큼",
    "런지 자세가 오래 유지되지 않음",
    "동작 중 골반이 흔들림",
    "자세를 '잡아두기'가 어려움",
    "운동 중 집중이 흐트러지면 자세도 무너짐"
  ],
  commonMisunderstanding: "'내 코어가 약해요.'",
  realCause:
    "코어 근력만의 문제가 아니라, 정렬, 호흡, 골반 안정이 함께 맞물려야 중심이 잡힙니다.",
  firstFocus: [
    "기준 세우기: 골반-갈비뼈를 ‘수직’에 가깝게 맞추기 (흔들림 시작점 차단)",
    "3초 내려가기 + 1초 멈춤: 천천히 움직이며 중심 유지 (안정감 빠르게 향상)",
    "반복 수 줄이고 품질: 10회보다 6회 ‘흔들림 없이’ (효율이 더 빨리 좋아짐)"
  ],
  avoid: [
    "속도 올려 버티는 스쿼트/런지 (무너짐을 더 학습)",
    "가동범위부터 늘리기 (기준 없으면 더 흔들림)",
    "피로한 상태에서 밸런스 운동 과다 (자세가 무너진 채 반복)"
  ],
  quickWin:
    "'천천히 + 멈춤(정지)'만 넣어도 중심이 잡히는 느낌이 빨리 생깁니다."
},

N_LR_IMBAL: {
  key: "N_LR_IMBAL",
  mainType: "N",
  headline: "왼쪽, 오른쪽 사용감이 달라 균형이 들쭉날쭉한 타입이에요.",
  summary:
    "통증이 한쪽에서 시작했다가 반대쪽으로 옮겨가거나, 같은 동작인데 좌우 느낌이 다르게 느껴지기 쉬워요. 이 타입은 '비대칭을 알아차리는 능력'부터 만들어주면 교정 속도가 빠릅니다.",
  signs: [
    "좌우 힘이 다르게 느껴짐",
    "한쪽이 유난히 불편하거나 무거움",
    "스트레칭/근육통이 좌우 다름",
    "자세가 한쪽으로 치우치는 습관",
    "균형 동작에서 한쪽만 어려움"
  ],
  commonMisunderstanding: "'나는 한쪽이 선천적으로 약해요.'",
  realCause:
    "선천적이라기보다 생활 습관(체중 싣기, 가방, 앉는 자세)으로 만들어진 비대칭인 경우가 훨씬 많아요.",
  firstFocus: [
    "약한 쪽 먼저 ‘켜기’: 한쪽씩 천천히 6~10회 (감각을 올려 균형 시작)",
    "한쪽 운동(유니레터럴) 기본부터: 스텝업/스플릿스쿼트 쉬운 버전 (좌우 차이 줄이기)",
    "발-무릎-골반 기준 고정: 좌우 동일한 선 유지 (비대칭의 핵심 교정)"
  ],
  avoid: [
    "양쪽을 동시에 빠르게만 하는 운동 반복 (차이가 숨겨져 더 커짐)",
    "통증 쪽만 계속 풀어주는 방식 (반대쪽 ‘미참여’가 그대로)",
    "체중 편향 습관을 그대로 두기 (일상에서 다시 무너짐)"
  ],
  quickWin:
    "한쪽씩 천천히 하면 '내가 어디로 치우치는지'가 보이기 시작하고, 그 순간부터 교정이 빨라져요."
},

N_SPEED_OVER: {
  key: "N_SPEED_OVER",
  mainType: "N",
  headline: "몸이 생각보다 먼저 나가서 컨트롤이 흐트러지는 타입이에요.",
  summary:
    "동작을 빨리 배우고 실행도 빠른 편이지만, 속도가 올라가면 정렬이 무너져 불편이 생기기 쉬워요. '잘하는 것처럼 보이는데 자꾸 아픈' 케이스가 여기에서 많이 나옵니다.",
  signs: [
    "운동 템포가 빠른 편",
    "반복할수록 자세가 흐트러짐",
    "가벼운 통증이 생겼다 사라짐",
    "동작을 크게 하려는 경향",
    "호흡 타이밍이 자주 끊김"
  ],
  commonMisunderstanding: "'난 집중력이 부족해서 그래요.'",
  realCause:
    "집중력보다 '속도에 비해 안정이 따라오지 않는' 문제인 경우가 많고, 템포 조절만으로도 개선됩니다.",
  firstFocus: [
    "속도 20~30% 줄이기: ‘느리게-멈추기-올리기’ (통증 줄이고 컨트롤 회복)",
    "반복 수보다 자세 유지: 10회보다 6회 ‘정확하게’ (효율이 더 좋음)",
    "호흡 리듬 맞추기: 내려갈 때 들이마시고 올라오며 내쉬기 (과속 방지)"
  ],
  avoid: [
    "점프/플라이오를 초반부터 과하게 (정렬 무너짐 + 통증 위험)",
    "반동으로 가동범위를 키우기 (컨트롤 없이 범위만 증가)",
    "빠른 반복만으로 ‘운동했다’ 체크하기 (무너진 자세를 학습)"
  ],
  quickWin:
    "속도만 20% 줄여도 '통증이 덜 오고 더 잘 들어가는 느낌'을 바로 체감하는 편이에요."
},

// ─────────────────────────
// 버팀형 (B)
// ─────────────────────────

B_LOWBACK_RELY: {
  key: "B_LOWBACK_RELY",
  mainType: "B",
  headline: "허리로 몸을 버티며 움직임을 만들어내는 타입이에요.",
  summary:
    "스쿼트, 데드리프트, 심지어 코어 운동에서도 허리가 먼저 개입하는 느낌이 자주 납니다. 허리가 약해서가 아니라, 허리가 너무 많이 일하고 있을 가능성이 커요.",
  signs: [
    "하체 운동하면 허리가 먼저 뻐근함",
    "엉덩이 자극이 잘 안 느껴짐",
    "골반이 앞쪽으로 말리거나 과하게 꺾임",
    "배에 힘을 주면 허리가 더 불편해짐",
    "오래 서 있으면 허리 피로"
  ],
  commonMisunderstanding: "'허리가 약해서 허리 운동을 더 해야 해요.'",
  realCause:
    "허리는 이미 과로 중일 가능성이 높고, 엉덩이, 햄스트링, 복압이 역할을 나눠 가져가야 편해집니다.",
  firstFocus: [
    "골반 중립 찾기: 허리가 꺾이거나 말리지 않는 ‘중간 위치’ (허리 과로 줄이기)",
    "숨 쉬며 복압 만들기: 내쉬면서 몸통을 단단히 (허리 보호 기본)",
    "엉덩이로 힌지 감각: 엉덩이가 접히며 힘이 나는 느낌 (힘의 주체 바꾸기)"
  ],
  avoid: [
    "통증 있는 상태에서 고중량 힌지/스쿼트 (과로 누적 가능)",
    "허리를 더 ‘세게 조이는’ 코어 훈련 (통증 악화 가능)",
    "허리만 계속 스트레칭하는 단독 접근 (원인 분담이 안 됨)"
  ],
  quickWin:
    "힙힌지 감각이 잡히면 '허리가 덜 쓰이고 엉덩이가 켜지는' 걸 비교적 빠르게 느낍니다."
},

B_NECK_SHOULDER_OVER: {
  key: "B_NECK_SHOULDER_OVER",
  mainType: "B",
  headline: "목, 어깨가 대신 일을 떠안아 상체가 쉽게 지치는 타입이에요.",
  summary:
    "팔, 등 운동뿐 아니라 일상에서도 어깨를 '으쓱'하며 버티는 습관이 많아요. 그 결과 승모가 과로하고, 두통, 뻐근함이 동반되기도 합니다.",
  signs: [
    "승모가 쉽게 뭉침",
    "팔 운동 시 목이 먼저 힘듦",
    "어깨를 올린 채 힘을 주는 습관",
    "컴퓨터/폰 사용 후 목 피로",
    "호흡할 때 어깨가 들썩임"
  ],
  commonMisunderstanding: "'승모가 발달해서 더 풀어야 해요.'",
  realCause:
    "근육 크기보다 '상체로 버티는 사용 습관'이 핵심이고, 하체, 코어 연결이 회복되면 승모 과로가 줄어듭니다.",
  firstFocus: [
    "어깨 ‘내리고-뒤로’ 기준: 으쓱하지 않는 위치 만들기 (승모 과로 감소)",
    "가슴·갈비뼈 열며 숨 쉬기: 어깨 호흡 줄이기 (목 부담 완화)",
    "팔 동작은 ‘등’으로: 당기는 동작에서 목 개입 줄이기 (자극 위치 정리)"
  ],
  avoid: [
    "무거운 프레스/슈러그 과다 (과로한 승모에 추가 부담)",
    "아픈 곳 강하게 누르기만 반복 (사용 패턴은 그대로)",
    "어깨 고정한 채 버티는 코어 운동 (상체 긴장만 증가)"
  ],
  quickWin:
    "견갑 위치만 정리해도 '목이 편해지는 느낌'이 빠르게 옵니다."
},

B_KNEE_FOCUS: {
  key: "B_KNEE_FOCUS",
  mainType: "B",
  headline: "하체 힘이 무릎에 몰려 부담이 생기는 타입이에요.",
  summary:
    "스쿼트나 계단에서 무릎이 먼저 피곤하고, 허벅지 앞쪽만 타는 느낌이 강할 수 있어요. 발, 엉덩이가 해야 할 일을 무릎이 대신하는 패턴이 흔합니다.",
  signs: [
    "스쿼트하면 무릎 앞쪽이 불편",
    "계단 오르내릴 때 무릎 부담",
    "허벅지 앞쪽만 과하게 타는 느낌",
    "발 접지(삼점 지지)가 약함",
    "무릎이 안쪽/바깥쪽으로 흔들림"
  ],
  commonMisunderstanding: "'무릎이 약하니까 무릎을 강화해야 해요.'",
  realCause:
    "무릎이 약해서라기보다, 발-엉덩이-골반의 힘 분산이 부족해 무릎이 과로하는 경우가 많아요.",
  firstFocus: [
    "발 삼점 지지: 엄지/새끼/뒤꿈치로 바닥 잡기 (무릎 부담 분산)",
    "무릎은 발 위로: 내려갈 때 안/밖 흔들림 줄이기 (정렬 안정)",
    "엉덩이 참여 늘리기: 스쿼트에서 엉덩이도 같이 쓰기 (허벅지 앞 과로 감소)"
  ],
  avoid: [
    "불편한데 반복 수만 늘리기 (과로 누적)",
    "무릎 흔들리는데 중량 올리기 (통증 위험 상승)",
    "허벅지 앞만 더 강하게 쓰는 훈련 (무릎 집중 패턴 강화)"
  ],
  quickWin:
    "발 접지가 잡히면 스쿼트에서 '무릎 부담이 줄고 엉덩이가 느껴지는' 변화가 빠르게 옵니다."
},

B_SINGLE_DOM: {
  key: "B_SINGLE_DOM",
  mainType: "B",
  headline: "한쪽이 대부분을 해내서 몸이 편향되는 타입이에요.",
  summary:
    "한쪽 다리/엉덩이/어깨가 주도권을 잡고, 반대쪽은 참여가 적어져요. 그래서 통증도 한쪽으로 고정되거나, 균형 동작에서 차이가 크게 납니다.",
  signs: [
    "한쪽만 유난히 뻐근하거나 아픔",
    "서 있을 때 체중을 한쪽에 싣는 습관",
    "유니레터럴 동작에서 차이가 큼",
    "골반/어깨 높이가 달라 보임",
    "한쪽으로 돌아 앉거나 기대는 습관"
  ],
  commonMisunderstanding: "'원래 오른쪽(왼쪽)이 더 강해요.'",
  realCause:
    "일상 습관으로 주도측만 계속 쓰여서 더 강해진 경우가 많고, 비주도측을 깨우면 균형이 회복됩니다.",
  firstFocus: [
    "약한 쪽 먼저 켜기: 비주도측부터 가볍게 6~10회 (균형의 시작)",
    "한쪽씩 천천히 비교: 좌우 같은 자세로 수행 (차이를 줄이는 핵심)",
    "체중 싣기 습관 교정: 서 있을 때 양발에 나누기 (재발 방지)"
  ],
  avoid: [
    "양쪽 동작만 계속 진행 (주도측만 더 강해짐)",
    "주도측만 더 강화하는 훈련 (편향 고착)",
    "비주도측 통증/불편 무시 (나중에 크게 터질 수 있음)"
  ],
  quickWin:
    "비주도측이 '켜지는 느낌'이 오면 자세가 곧바로 안정되는 경우가 많아요."
},

// ─────────────────────────
// 흘림형 (H)
// ─────────────────────────

H_POWER_LEAK: {
  key: "H_POWER_LEAK",
  mainType: "H",
  headline: "힘은 있는데 전달이 새어 운동 효율이 떨어지는 타입이에요.",
  summary:
    "운동을 열심히 하는데도 '잘 들어가는 느낌'이 약하고, 금방 지치는 편이에요. 힘이 부족해서가 아니라, 힘이 지나가는 길(정렬, 연결)이 새고 있는 경우가 많습니다.",
  signs: [
    "운동 효율 체감이 낮음",
    "금방 지치거나 힘이 빠지는 느낌",
    "자세가 무너지면 바로 힘이 새는 느낌",
    "발/골반/상체가 따로 움직이는 느낌",
    "힘을 주라고 하면 어디로 줘야 할지 애매함"
  ],
  commonMisunderstanding: "'체력이 약해서 그래요.'",
  realCause:
    "체력보다 '힘 전달 경로(발-코어-상체)'가 끊겨 새는 경우가 많고, 연결이 잡히면 효율이 확 올라갑니다.",
  firstFocus: [
    "바닥부터 연결: 발로 바닥을 잡고 코어까지 힘 이어주기 (누수 구간 막기)",
    "골반-갈비뼈 기준: 허리 꺾임/가슴 들림 줄이기 (힘 전달이 좋아짐)",
    "느리게 하며 ‘길’ 느끼기: 속도보다 연결 감각 먼저 (효율 회복)"
  ],
  avoid: [
    "폼 무너진 채 중량만 올리기 (누수가 더 커짐)",
    "호흡 막고 힘만 주기 (긴장만 쌓이고 전달은 떨어짐)",
    "피로한 상태에서 반복 수 과다 (무너진 패턴을 학습)"
  ],
  quickWin:
    "정렬을 잡고 '천천히'만 해도 같은 운동이 훨씬 더 잘 들어오는 느낌이 옵니다."
},

H_CHAIN_BREAK: {
  key: "H_CHAIN_BREAK",
  mainType: "H",
  headline: "동작이 끊어져 연결 동작이 어색하게 느껴지는 타입이에요.",
  summary:
    "몸을 한 덩어리로 쓰기보다 '부분별로 따로' 쓰는 경향이 있어요. 그래서 협응이 필요한 동작(힙힌지, 회전, 전신 연결)이 유독 어렵게 느껴질 수 있습니다.",
  signs: [
    "전신 연결 동작이 어색함",
    "동작이 매끈하게 이어지지 않음",
    "상체/하체가 따로 노는 느낌",
    "리듬 운동이 어렵게 느껴짐",
    "반복하면 자세가 쉽게 무너짐"
  ],
  commonMisunderstanding: "'운동신경이 없어요.'",
  realCause:
    "운동신경이라기보다 연결 패턴을 배운 적이 없어서 그래요. 단계별로 연결을 만들면 충분히 좋아집니다.",
  firstFocus: [
    "작게 연결부터: 발→골반→갈비뼈 순서로 움직이기 (협응 만들기)",
    "작은 범위로 정확히: 크게 하기보다 매끈하게 (연결 학습이 빨라짐)",
    "호흡을 리듬으로: 내쉬며 움직이고 들이마시며 준비 (끊김 줄이기)"
  ],
  avoid: [
    "복잡한 전신 동작을 바로 크게 하기 (실패 패턴을 학습)",
    "속도로 억지 연결하기 (정렬 무너짐)",
    "부분 근력만 반복해 패턴 더 분리 (전신 연결이 더 어려워짐)"
  ],
  quickWin:
    "작은 범위의 연결 드릴만으로도 '동작이 부드러워지는 느낌'을 비교적 빨리 얻습니다."
},

H_ASYM_TRANSFER: {
  key: "H_ASYM_TRANSFER",
  mainType: "H",
  headline: "좌우 힘 전달이 달라 한쪽은 잘 되고, 한쪽은 새는 타입이에요.",
  summary:
    "한쪽은 '잘 들어가는데' 반대쪽은 비슷한 운동을 해도 감각이 흐리게 느껴질 수 있어요. 이 타입은 좌우 연결을 맞추는 순간 운동 효율이 확 좋아집니다.",
  signs: [
    "한쪽만 자극이 잘 느낌",
    "동작이 좌우 다르게 느껴짐",
    "균형 운동에서 한쪽만 유독 어려움",
    "신발 닳음/체중 싣기가 좌우 다름",
    "고관절/견갑 움직임이 좌우 차이"
  ],
  commonMisunderstanding: "'한쪽이 선천적으로 약해요.'",
  realCause:
    "선천적이라기보다 사용 습관과 정렬 차이로 힘이 전달되는 길이 좌우 다르게 형성된 경우가 많습니다.",
  firstFocus: [
    "좌우 기준 맞추기: 발-무릎-골반을 양쪽 동일하게 (전달 ‘길’ 맞추기)",
    "약한 쪽 감각 올리기: 한쪽씩 천천히 자극 위치 찾기 (반대쪽도 켜지게)",
    "한쪽→양쪽 통합: 한쪽 컨트롤 후 양쪽 동작으로 (균형 유지)"
  ],
  avoid: [
    "양쪽을 동시에 빠르게만 하기 (차이가 숨겨짐)",
    "강한 쪽만 계속 밀어붙이기 (편향 강화)",
    "약한 쪽의 작은 불편 무시 (나중에 누수 커짐)"
  ],
  quickWin:
    "좌우 정렬이 맞아들면 '반대쪽도 드디어 켜지는 느낌'을 바로 받는 경우가 많아요."
},

H_EFFICIENCY_LOW: {
  key: "H_EFFICIENCY_LOW",
  mainType: "H",
  headline: "노력 대비 결과가 적어 '열심히 하는데 답답한' 타입이에요.",
  summary:
    "운동을 꾸준히 하는데도 변화가 느리거나, 몸이 '정리되지 않은 느낌'이 남아 있어요. 이 타입은 '힘의 방향'과 '순서'를 정리하면 결과가 빨라집니다.",
  signs: [
    "운동해도 성취감이 낮음",
    "자세가 자주 무너짐",
    "운동 후 힘이 빠지는 느낌",
    "통증/불편이 잔잔하게 남음",
    "루틴을 바꿔도 큰 차이를 못 느낌"
  ],
  commonMisunderstanding: "'난 운동 체질이 아닌가 봐요.'",
  realCause:
    "체질보다 효율의 문제일 가능성이 큽니다. 정렬, 연결, 템포를 맞추면 같은 노력으로 훨씬 큰 결과가 나옵니다.",
  firstFocus: [
    "기준부터 정리: 골반-갈비뼈 정렬 먼저 맞추기 (힘 방향이 바로 잡힘)",
    "힘의 ‘순서’ 만들기: 발→엉덩이→코어 순으로 쓰기 (같은 노력으로 더 나옴)",
    "볼륨보다 품질: 템포/호흡/정렬 체크하며 진행 (답답함 해소)"
  ],
  avoid: [
    "루틴만 계속 바꾸며 더 센 자극만 찾기 (핵심은 ‘방향’과 ‘순서’)",
    "피로 누적 상태에서 강도만 올리기 (효율은 더 떨어짐)",
    "통증을 무시하고 진행 (패턴이 더 망가질 수 있음)"
  ],
  quickWin:
    "동작 품질이 정리되면 '같은 운동인데 더 잘 들어가는 느낌'이 먼저 오고, 그 다음 결과가 따라옵니다."
},

};

// ============================================
// 브랜딩 정보가 포함된 서브타입 콘텐츠 (하위 호환성)
// ============================================
// getSubTypeContent()에서 브랜딩 테이블을 참조하여 자동으로 생성됨

export const SUBTYPE_CONTENT: Record<SubTypeKey, SubTypeContent> = Object.fromEntries(
  Object.entries(SUBTYPE_CONTENT_RAW).map(([key, raw]) => [
    key,
    {
      ...raw,
      mainTypeName: BRANDING_TABLE.mainTypes[raw.mainType].name,
      subTypeName: BRANDING_TABLE.subTypes[key as SubTypeKey].name,
    },
  ])
) as Record<SubTypeKey, SubTypeContent>;

// ============================================
// 유틸리티 함수
// ============================================

/**
 * 메인 타입 코드로 서브타입 목록 필터링
 */
export function getSubTypesByMainType(mainType: MainTypeCode): SubTypeContent[] {
  return Object.values(SUBTYPE_CONTENT).filter(st => st.mainType === mainType);
}

/**
 * 서브타입 키로 콘텐츠 가져오기 (브랜딩 정보 포함)
 * 
 * 하위 호환성: 기존 API 유지, 내부적으로 브랜딩 테이블 참조
 */
export function getSubTypeContent(key: SubTypeKey): SubTypeContent {
  return SUBTYPE_CONTENT[key];
}

/**
 * 메인 타입명 가져오기 (브랜딩 테이블 참조)
 * 
 * 변경: 하드코딩 제거, 브랜딩 테이블에서 동적으로 가져옴
 */
export function getMainTypeName(code: MainTypeCode): string {
  return BRANDING_TABLE.mainTypes[code].name;
}

/**
 * 모든 서브타입 키 목록
 */
export const ALL_SUBTYPE_KEYS: SubTypeKey[] = Object.keys(SUBTYPE_CONTENT) as SubTypeKey[];

/**
 * 메인 타입별 서브타입 개수
 */
export const SUBTYPE_COUNT_BY_MAIN: Record<MainTypeCode, number> = {
  D: 4, // 담직형
  N: 4, // 날림형
  B: 4, // 버팀형
  H: 4  // 흘림형
};
